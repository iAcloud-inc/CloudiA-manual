# 쿠버네티스 사용자 가이드

CloudiA 쿠버네티스 서비스는 프로젝트별 쿠버네티스 클러스터를 손쉽게 생성, 관리, 모니터링할 수 있는 기능을 제공합니다.  
이 문서는 쿠버네티스 관리 화면의 주요 구성과 전체 운영 흐름을 설명합니다.

## 한눈에 보기
- **기능 목적**: 쿠버네티스 클러스터의 생성, 모니터링, 확장 및 리소스 관리
- **포함 화면 구성**: 클러스터 목록 → 클러스터 상세 → 노드·스토리지·리소스 관리
- **주요 작업 흐름**
  1. 클러스터 목록에서 상태 확인  
  2. 새 클러스터 생성  
  3. 상세 페이지에서 모니터링 및 노드 관리  
  4. 스토리지/PVC 관리
- **핵심 액션**: `생성`, `삭제`, `Config 추출`, `워커 노드 추가`, `스토리지 클래스 생성`, `PVC 생성`

## 클러스터 목록
### 화면 개요
클러스터 목록은 프로젝트 내 관리 중인 모든 쿠버네티스 클러스터를 표 형태로 표시합니다.

| 컬럼 | 설명 |
|------|------|
| **이름** | 클러스터 이름입니다. 클릭 시 상세 화면으로 이동합니다. |
| **ID** | 시스템 내부 클러스터 식별자입니다. |
| **엔드포인트 IP** | API 서버 접속 주소입니다. |
| **상태** | 활성/비활성 상태를 아이콘과 함께 표시합니다. |
| **제어 플레인/워커 노드 수** | 현재/전체 노드 수를 `1/1` 형식으로 표시합니다. |

### 주요 작업
- **`생성` 버튼**: 새 클러스터 생성 화면으로 이동합니다.  
- **`삭제` 버튼**: 선택한 클러스터를 삭제합니다.  
  ⚠️ **주의:** 이미 “삭제 중” 상태인 클러스터는 다시 삭제할 수 없습니다.  
- 클러스터 이름을 클릭하면 **상세 화면**으로 이동합니다.

---

## 클러스터 생성
### 화면 개요
클러스터 생성은 기본 정보, 네트워크, 컨트롤 플레인 설정 등 단계별 폼으로 구성됩니다.

#### 1. 기본 정보
| 필드 | 허용 값/길이 | 검증 규칙 | 비고 |
|------|---------------|-----------|------|
| **클러스터 이름** | 소문자, 숫자 | 유효하지 않은 문자는 오류 메시지 표시 | 필수 입력 |

#### 2. 네트워크 설정
- **VPC/서브넷 선택**: 드롭다운 목록에서 지정합니다.  
- **보안 그룹 선택**: 클러스터 노드에 적용할 방화벽 규칙을 선택합니다. (1개 이상 필수)

#### 3. 컨트롤 플레인 설정
- **이미지 선택**: OS 및 Kubernetes 버전 지정  
- **부팅 디스크 크기**: 기본 64 GiB, 변경 가능  
- **인스턴스 타입**: 컨트롤 플레인 사양 선택  
- **노드 수**: 일반 1개, 고가용성은 3개 설정

#### 4. 인증서 설정
- **CA 인증서 / 개인 키 파일 업로드**  
  필수 항목이며, 인증 실패 시 `"인증서 형식이 올바르지 않습니다."` 메시지가 표시됩니다.

#### 5. Cloud-Init 설정
- **사용자 이름** 입력 (예: `cloud`)  
- **비밀번호 설정(선택)**  
  비밀번호 미설정 시 키 기반 인증 방식이 적용됩니다.

#### 6. 생성 확인
- 모든 항목 입력 후 `생성` 버튼이 활성화됩니다.  
- 생성 요청 성공 시 목록으로 이동하며 상태가 “생성 중”으로 표시됩니다.  
> 💡 참고: 생성 완료까지 수 분이 소요될 수 있으며, 상태가 “활성(UP)”으로 변경되면 사용 가능합니다.  
- `취소` 버튼 클릭 시 작업을 중단합니다.

---

## 클러스터 상세
### 화면 개요
클러스터 상세 화면에서는 클러스터 정보와 하위 리소스를 관리할 수 있습니다.

| 항목 | 설명 |
|------|------|
| **클러스터 이름 / ID** | 기본 식별 정보 |
| **VPC / 서브넷** | 연결된 네트워크 정보 |
| **엔드포인트 IP** | API 서버 주소 |
| **상태 / 생성 일시** | 현재 상태 및 생성 시간 표시 |

상단의 `Config 추출` 버튼을 통해 kubeconfig 파일을 다운로드할 수 있습니다.  
이를 사용하면 로컬 `kubectl` 환경에서 클러스터에 접근할 수 있습니다.

### 탭 구성
| 탭 | 주요 기능 |
|-----|-----------|
| **모니터링** | 클러스터 리소스 사용률 및 상태 대시보드 |
| **컴퓨트** | 노드 목록 및 관리 (추가/삭제/재가동) |
| **네트워크** | 연결된 VPC·서브넷·보안그룹 정보 확인 |
| **스토리지** | 스토리지 클래스 및 PVC 관리 |
| **리소스** | 파드·디플로이먼트·서비스·이벤트 조회 |

---

## 변경 이력
| 일자 | 내용 |
|------|------|
| 2025-10-14 | 최초 작성 |
