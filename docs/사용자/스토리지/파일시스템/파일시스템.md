# 파일시스템 사용자 가이드

## 파일 시스템 목록
CloudiA의 **파일 시스템** 기능은 사용자가 클라우드 환경에서 파일 기반 저장소를 생성하고 관리할 수 있도록 돕는 기능입니다.  
이를 통해 프로젝트 내에서 공유 가능한 저장공간(NFS, VirtioFS)을 구성하고 관리할 수 있습니다.

### 주요 작업
- **생성**: 새 파일 시스템을 추가합니다.  
- **편집**: 선택한 파일 시스템의 이름, 크기, 크기 단위를 수정합니다.  
- **삭제**: 선택한 파일 시스템을 삭제합니다.

### 테이블 컬럼
파일 시스템 목록은 다음 정보를 컬럼으로 표시합니다.
| 컬럼 | 설명 |
|------|------|
| 이름 | 파일 시스템의 이름을 나타냅니다. |
| ID | 파일 시스템의 ID를 나타냅니다. |
| 타입 | 파일 시스템의 타입을 나타냅니다.<br>타입의 종류는 NFS, VIRTIOFS입니다. |
| 크기 | 파일 시스템의 크기를 나타냅니다. |
| 생성 일시 | 파일 시스템이 생성된 일시를 나타냅니다. |

## 파일 시스템 상세 화면
파일 시스템 상세 화면에서는 선택한 파일 시스템의 상세 정보를 확인할 수 있습니다.  
파일 시스템의 타입이 `NFS`인 경우에는 연결된 네트워크 인터페이스 규칙 정보를, `VIRTIOFS`인 경우에는 스토리지 도메인 정보를 조회할 수 있습니다.

### 상단 요약
상단에는 파일 시스템의 기본 정보가 요약되어 표시됩니다.  
- **이름**: 파일 시스템의 이름을 나타냅니다.
- **ID**: 파일 시스템의 ID를 나타냅니다.
- **타입**: 파일 시스템의 타입을 나타냅니다.<br>타입의 종류는 NFS, VIRTIOFS입니다.
- **크기**: 파일 시스템의 크기를 나타냅니다.
- **생성 일시**: 파일 시스템이 생성된 일시를 나타냅니다.

### 하단 탭
- 파일 시스템의 타입이 `NFS`인 경우 화면 탭에서 네트워크 인터페이스 정보를 확인할 수 있습니다.
    | 항목 | 설명 |
    |------|------|
    | VPC | 해당 파일 시스템이 사용하는 VPC를 나타냅니다. |
    | 서브넷 | 해당 파일 시스템이 사용하는 서브넷을 나타냅니다. |
    | 보안그룹 | 해당 파일 시스템이 사용하는 보안그룹을 나타냅니다. |
- 파일 시스템의 타입이 `VIRTIOFS`인 경우 화면 탭에서 스토리지 도메인 정보를 확인할 수 있습니다.
    | 항목 | 설명 |
    |------|------|
    | 스토리지 도메인 유형 | 스토리지 도메인의 유형입니다. |
    | 스토리지 도메인 이름 | 스토리지 도메인의 이름입니다. |
    | ID | 스토리지 도메인의 고유 ID입니다. |

## 파일 시스템 생성·편집
파일 시스템 생성 화면에서는 새로운 파일 시스템을 생성할 수 있으며, 편집 화면에서는 기존 파일 시스템의 일부 정보를 수정할 수 있습니다.  
사용자는 파일 시스템의 기본 정보를 입력해야 하고 파일 시스템의 타입을 `NFS`로 선택하는 경우 추가적으로 `네트워크 인터페이스 구성` 정보를 입력합니다.    
이 경우에는 연결 가능한 `VPC`, `서브넷`, `보안그룹`이 사전에 구성되어 있어야 합니다.  
반면, 파일 시스템의 타입을 `VIRTIOFS`로 선택하는 경우 추가적으로 `스토리지` 정보를 입력합니다.

### 기본 정보
- **이름**: 파일 시스템의 이름을 입력합니다.
- **크기**: 파일 시스템의 크기를 입력합니다. 크기 단위는 GiB, MiB입니다.
- **타입**: 파일 시스템의 타입을 선택합니다. 선택 가능한 타입은 `NFS`, `VIRTIOFS`입니다.

### 네트워크 인터페이스 구성 정보(타입이 NFS인 경우)
- **VPC**: NFS 타입의 파일 시스템이 사용할 VPC를 선택합니다.
- **서브넷**: NFS 타입의 파일 시스템이 사용할 서브넷을 선택합니다.
- **기본 IP 주소**: NFS 타입의 IP 경로를 입력합니다.<br>`자동 할당`으로 선택하는 경우 IP 주소를 별도로 입력하지 않아도 됩니다.<br>`수동 할당`으로 선택하는 경우 서브넷의 IP/CIDR 규칙에 맞는 IP 주소를 입력합니다.<br>예시) 서브넷의 IP/CIDR가 10.0.0.0/24인 경우 기본 IP 주소 10.0.0.10
- **보안그룹**: NFS 타입의 파일 시스템의 네트워크 보안규칙을 선택합니다.

### 스토리지 정보
- **스토리지 도메인**: VIRTIOFS 타입의 파일 시스템이 사용할 스토리지 도메인을 선택합니다.
    
### 입력 필드 유효성
| 필드 | 허용 값 | 검증 규칙 | 비고 |
|------|----------|------------|------|
| **이름** | 영문, 숫자, `-`, `_` | 허용 값으로 구성된 20자 이내의 글자 | 필수 |
| **크기** | 숫자 | 최소 단위 0 | 필수 |
| **크기 단위** | MiB, GiB | - | 필수 |
| **타입** | NFS / VIRTIOFS | - | 필수 |
| **VPC** | - | - | 타입이 NFS인 경우 필수 |
| **서브넷** | - | - | 타입이 NFS인 경우 필수 |
| **기본 IP 주소** | 자동 할당, 수동 할당 | - | 타입이 NFS인 경우 필수 |
| **보안그룹** | - | - | 타입이 NFS인 경우 필수 |
| **스토리지 도메인** | - | - | 타입이 VIRTIOFS인 경우 필수 |

### 편집 시 주의 사항
- 파일 시스템 편집 페이지에서는 이름, 크기, 크기 단위만 수정할 수 있습니다.
- 크기는 기존 값 이상만 입력 가능합니다.

## 파일 시스템 삭제
- 목록에서 항목 선택 후 `삭제` 버튼을 클릭합니다.

## 변경 이력
- 2025-10-14: 최초 작성
- 2025-10-15: 오전 회의에서 합의된 양식으로 변경
