# 플로팅 IP
**플로팅 IP**는 외부 IP를 특정 자원에 연결해주는 가상 IP 자원입니다.

## 플로팅 IP 목록
### 주요 작업
-  **플로팅 IP 목록 화면** 상단에는 `생성`, `편집`, `삭제` 버튼과 검색 기능이 있습니다.
- `생성` 버튼을 눌러 새로운 플로팅 IP를 생성합니다. `편집`은 플로팅 IP의 이름 또는 설명을 수정하는 기능입니다.
- **삭제는 여러 개를 동시에 선택하여 실행**할 수 있지만, 리소스와 미연결 상태여야 합니다.
- 목록 상단에는 플로팅 IP **이름**으로 검색할 수 있는 필터 기능과 정렬 기능이 제공되어, 원하는 플로팅 IP를 쉽게 찾을 수 있습니다.

### 테이블 컬럼
| 컬럼         | 설명                                                     |
|------------|--------------------------------------------------------|
| **이름**     | 플로팅 IP의 이름입니다.                                         |
| **VPC**    | 플로팅 IP가 속한 VPC입니다.                                     |
| **외부 IP**  | 할당된 외부 IP 주소입니다.                                       |
| **리소스 타입** | 플로팅 IP가 현재 연결된 대상 자원을 나타냅니다. <br/>인스턴스에 연결된 경우 인스턴스 (이름, ID) 형식으로 표시되며, 아직 연결되지 않았다면 빈 값(-)으로 표시됩니다.|
| **생성 일시**  | 플로팅 IP가 생성된 날짜와 시간입니다.                                 |


## 플로팅 IP 상세
### 상단 요약
- **이름**: 플로팅 IP의 이름입니다.
- **ID**: 플로팅 IP가 부여받은 ID 입니다.
- **VPC**: 플로팅 IP가 속한 VPC 입니다.
- **외부 IP 주소**: 할당된 외부 IP 주소입니다.
- **설명**: 플로팅 IP에 대한 설명을 입력합니다. 
- **생성 일시**: 플로팅 IP가 생성된 날짜와 시간입니다.
- **연결된 리소스**: 플로팅 IP가 현재 연결된 대상과 상태를 확인할 수 있습니다. <br> 연결된 자원이 없으면 “-”로 표시되고, 연결되어 있을 경우 리소스 유형과 해당 **리소스의 이름/ID**, **내부 IP** 등이 표시됩니다. <br> 예를 들어 인스턴스에 연결된 경우 `리소스 타입: 인스턴스`, `이름: vm-01 (ID: 123)`, `IP 주소: 192.168.0.10` 형식으로 표시됩니다.

### 리소스 연결/해제
- 별도의 하단 탭은 없으며, 연결된 리소스 정보 영역 아래에서 직접 **연결/해제 작업**을 수행합니다. <br> 현재 연결된 리소스가 없을 때는 `적용` 버튼이 활성화되어 플로팅 IP를 자원에 연결할 수 있고, 연결된 상태일 때는 `삭제` 버튼이 제공되어 현재 연결을 해제할 수 있습니다.
  - `적용` 버튼을 클릭하면 플로팅 IP를 특정 자원에 연결하는 설정 창이 열립니다. 사용자는 연결할 대상 유형을 선택할 수 있습니다. 현재 프로젝트의 `인스턴스` 중 하나를 선택하거나, 특정 `IP 주소`를 수동 입력하여 해당 IP로 트래픽을 전달하도록 설정할 수 있습니다. 필요한 정보를 입력한 뒤 적용하면 플로팅 IP가 해당 자원에 연결되어 연결된 리소스 항목에 즉시 반영됩니다.
  - `삭제` 버튼을 클릭하면 플로팅 IP의 현재 연결을 해제(분리)하는 확인 창이 나타납니다. 확인 시 플로팅 IP가 자원에서 분리되어 연결된 리소스가 없는 상태(-)로 돌아갑니다. 플로팅 IP 자체는 삭제되지 않고 풀에 남아있어, 필요하면 다시 다른 자원에 연결할 수 있습니다.

## 플로팅 IP 생성
플로팅 IP 생성 화면에서는 외부 IP를 프로젝트 내부 자원에 연결할 준비를 합니다. 생성 시 바로 자원에 연결할 수도 있고, 일단 예약만 할 수도 있습니다.
#### 1. 기본 정보
- **이름**: 플로팅 IP의 이름을 입력합니다.
- **VPC**: VPC: 플로팅 IP를 소속시킬 VPC를 선택합니다.
- **외부 IP 할당**: 사용할 외부 IP 주소를 지정합니다. `자동 할당`을 선택하면 시스템이 가용한 외부 IP를 자동 선택하며, `수동 할당`을 선택하면 외부 IP 목록에서 특정 IP를 선택해야 합니다.
- **설명**: 플로팅 IP에 대한 설명을 입력합니다 (선택 사항).

#### 2. 리소스 연결 설정 (선택 사항)
- **연결 대상 설정**: 플로팅 IP 생성 즉시 특정 자원에 연결하려면 이 옵션을 활성화합니다. 활성화하면 아래에 연결 대상 선택 메뉴가 나타납니다.
    - **대상 유형**: `인스턴스` 또는 `IP` 를 선택합니다.  
    - **인스턴스**: 대상 유형으로 인스턴스를 선택한 경우, 프로젝트 내 해당 VPC에 존재하는 인스턴스 목록에서 하나를 선택합니다. 인스턴스의 내부 IP 목록이 표시되면 연결할 **네트워크 인터페이스(IP)** 를 지정합니다.
    - **IP 주소**: 대상 유형으로 IP 주소를 선택하면, 해당 VPC 안에서 접근 가능한 특정 IPv4 주소를 직접 입력합니다. (예: 어떤 인스턴스의 내부 IP - 172.31.1.4 등)

| 필드        | 허용 값          | 검증 규칙               | 비고                |
|-----------|---------------|---------------------|-------------------|
| **이름**    | 영문, 숫자        | 최대 20자, 첫 글자 숫자 불가  | 필수                |
| **VPC**   | 프로젝트 내 VPC    | 소속 VPC              | 필수                |
| **외부 IP 할당** | 자동 또는 수동      | 수동 일 경우 외부 IP 선택    | 필수                |
| **연결 대상 설정** | 체크 여부         | 체크 시 대상 유형 설정 필수    | 선택                |
| **대상 유형** | 인스턴스 / IP     | 선택한 유형에 따라 입력 방식 다름 | 연결 시 필수           |
| **인스턴스**  | VPC 내 인스턴스 목록 | 인스턴스 및 인터페이스IP 선택   | 대상 유형 = 인스턴스인 경우  |
| **IP 주소** | IPv4 주소       | IP 형식               | 대상 유형 = IP 주소인 경우 |
| **설명**    | 문자열           | 최대 200자             | 선택 입력             |

> 💡참고: 플로팅 IP 생성 시 연결 대상 설정을 활성화하면, 생성과 동시에 지정한 자원에 플로팅 IP가 붙습니다. 설정하지 않으면 플로팅 IP만 예약되어 **연결되지 않은 상태**로 목록에 표시됩니다. 나중에 상세 화면에서 필요 시 연결할 수 있습니다.

## 플로팅 IP 편집
플로팅 IP의 이름과 설명을 변경할 수 있습니다.

| 컬럼 | 설명                             |
|------|--------------------------------|
| **이름**| 플로팅 IP의 이름을 변경할 수 있습니다.        |
| **설명**| 플로팅 IP의 설명을 용도에 맞게 변경할 수 있습니다. |

## 플로팅 IP 삭제
**삭제는 여러 개를 동시에 선택하여 실행**할 수 있지만, 리소스와 미연결 상태여야 합니다.
삭제하고자 하는 플로팅 IP를 선택하고 **삭제** 버튼을 클릭하면 **플로팅 IP 삭제하시겠습니까?**라는 확인 창이 나타납니다. 확인을 눌러 삭제합니다.  

> 💡 **주의사항:** 플로팅 IP가 인스턴스 등에 연결되어 있지 않은 경우에만 삭제할 수 있습니다. 연결된 플로팅 IP를 선택하고 삭제하면 삭제가 수행되지 않으며 경고가 표시됩니다. <br> 플로팅 IP를 인스턴스에서 **분리(삭제)**하려면 상세 화면에서 삭제 작업(연결 해제)을 수행해야 합니다. 목록에서의 삭제는 완전히 미사용 상태인 플로팅 IP를 제거하는 용도입니다.

