# 서브넷 사용자 가이드

## 서브넷 목록
- **서브넷 목록 화면**에서는 프로젝트 내 모든 서브넷을 조회하고 관리할 수 있습니다. 상단 검색 필드를 통해 서브넷 **이름**으로 필터링이 가능합니다.
- **[생성]** 버튼을 눌러 새로운 서브넷을 추가할 수 있습니다.
- **[편집]** 버튼은 서브넷을 **한 개만 선택한 경우** 활성화되며, 선택한 서브넷의 설정을 편집할 수 있습니다.
- **[삭제]** 버튼은 하나 이상 선택 시 활성화됩니다. 여러 서브넷을 동시에 선택하여 삭제 요청할 수 있습니다.

서브넷 목록 주요 컬럼은 다음과 같습니다:

| 컬럼                           | 설명                                                                 |
| ------------------------------ | -------------------------------------------------------------------- |
| **이름**                       | 서브넷의 표시 이름입니다. **클릭 시 상세 화면**으로 이동합니다.      |
| **VPC**                        | 서브넷이 속한 가상 네트워크(VPC)의 이름입니다.                      |
| **타입**                       | 서브넷 유형입니다. **퍼블릭 서브넷** 또는 **프라이빗 서브넷** 여부를 나타냅니다. |
| **CIDR**                       | 서브넷의 IP 주소 범위를 나타냅니다 (CIDR 표기).                     |
| **기본 게이트웨이**            | 해당 서브넷의 기본 게이트웨이 IP 주소입니다.                        |
| **사용 IP 개수 / 전체 IP 개수** | 현재 **할당되어 사용 중인 IP 수**와 해당 서브넷에서 **사용 가능한 전체 IP 수**를 표시합니다. |
| **설명**                       | 서브넷에 대한 관리자용 메모 또는 설명 글입니다.                    |
| **생성 일시**                  | 서브넷이 생성된 날짜와 시간입니다.                                  |

⚠️ **주의:** 서브넷 **편집은 한 번에 하나씩**만 수행할 수 있습니다. 다중 선택한 경우 [편집] 버튼이 비활성화됩니다.

## 서브넷 상세 
서브넷의 **상세 화면**에서는 해당 서브넷의 모든 설정 정보를 확인할 수 있습니다. 상단 요약 섹션에 다음과 같은 속성이 표시됩니다 (괄호 안은 예시 값):

- **이름:** 서브넷의 표시 이름 (예: `web-subnet-1`).
- **VPC:** 소속된 가상 네트워크 이름 (예: `vpc-prod`).
- **타입:** 서브넷 유형 (**퍼블릭 서브넷** 또는 **프라이빗 서브넷**).
- **생성 일시:** 서브넷이 생성된 날짜 및 시간.
- **CIDR:** 서브넷의 IP 주소 범위 (예: `10.0.1.0/24`).
- **설명:** 관리자용 설명이 입력된 경우 그 내용.
- **기본 게이트웨이:** 서브넷의 게이트웨이 IP 주소 (예: `10.0.1.1`).
- **DNS 서버:** 퍼블릭 서브넷에 설정된 DNS 서버 주소 (프라이빗 서브넷인 경우 빈 값으로 표시).
- **사용 IP 개수 / 전체 IP 개수:** 현재 이 서브넷에서 **사용 중인 IP 수**와 **전체 IP 수** (예: `5 / 256`).
- **네트워크 접근 제어:** 이 서브넷에 적용된 네트워크 ACL(Access Control List)의 이름.  

> 💡 **참고:** **퍼블릭 서브넷**에서는 서브넷 내부 자원이 외부 네트워크와 통신할 수 있으며, 플로팅 IP가 자동으로 할당되어 외부에서 해당 자원에 접근할 수 있습니다. **프라이빗 서브넷**은 외부와의 통신이 제한되고 플로팅 IP를 사용할 수 없습니다.

## 서브넷 생성·편집
**서브넷 생성 페이지**와 **편집 페이지**는 동일한 양식으로 구성되어 있으며, 서브넷을 새로 생성하거나 기존 서브넷의 일부 정보를 변경할 때 사용합니다. 편집 모드로 진입하면 화면 상단에 “서브넷 편집”이라는 제목이 표시되며, 생성 모드인 경우 “서브넷 생성”으로 표시됩니다.

**편집 모드에서는 일부 필드를 변경할 수 없습니다.** 이미 생성된 서브넷을 편집할 때 **이름, VPC, CIDR, DNS 서버** 값은 읽기 전용으로 고정되며 수정이 불가합니다. 사용자는 **타입**과 **설명**만 변경할 수 있습니다.

새로운 서브넷을 생성하거나 기존 서브넷을 수정하려면 다음 항목들을 입력해야 합니다:

- **이름:** 서브넷의 이름을 지정합니다. 예를 들어 `web-subnet-1`와 같이 의미 있게 정합니다.
- **VPC:** 해당 서브넷을 포함할 대상 **가상 네트워크(VPC)**를 선택합니다 (드롭다운 목록에서 기존 VPC 선택).
- **CIDR:** 서브넷의 주소 범위를 IPv4 CIDR 형식으로 입력합니다. 예: `10.0.1.0/24`
- **서브넷 유형:** **퍼블릭 서브넷** 또는 **프라이빗 서브넷** 중 선택합니다. 기본값은 퍼블릭 서브넷입니다.
- **DNS 서버:** (옵션) 퍼블릭 서브넷인 경우 사용할 DNS 서버의 IP 주소를 입력합니다. 프라이빗 서브넷을 선택하면 이 항목은 입력할 수 없습니다.
- **설명:** (옵션) 서브넷에 대한 설명이나 메모를 입력합니다.

위 필드들의 입력 규칙과 유효성 검증 조건은 다음과 같습니다:

| **필드**      | **허용 값 / 범위**                           | **검증 규칙**                                               | **비고**             |
| ------------- | ------------------------------------------- | ----------------------------------------------------------- | -------------------- |
| **이름**      | 영문 대소문자 및 숫자, 최대 **20자**         | 첫 글자는 숫자가 될 수 없음.<br/>특수문자 공백 입력 불가.   | **필수** 항목. 이름은 프로젝트 내 중복 불가. |
| **VPC**       | 기존에 생성된 VPC 중 하나 선택               | 유효한 VPC가 없으면 서브넷을 생성할 수 없음.                | **필수** 항목.       |
| **CIDR**      | IPv4 CIDR 표기 (예: `10.0.x.0/24`)           | - VPC의 주소 범위 내의 하위 네트워크여야 함.<br/>- 프리픽스 길이 **/16** ~ **/28** 사이만 허용.<br/>- 동일 VPC 내 다른 서브넷과 **중복되지 않는** 범위여야 함. | **필수** 항목.       |
| **서브넷 유형** | **퍼블릭** 또는 **프라이빗**                | 선택한 유형에 따라 DNS 입력 필드 활성화 여부 결정.         | 생성 후 **편집 가능**. |
| **DNS 서버**  | IPv4 주소 형식 (예: `8.8.8.8`), 또는 미입력   | 값이 있을 경우 올바른 IPv4 주소여야 함.<br/>퍼블릭 서브넷일 때만 입력 활성화. | **선택** 사항.       |
| **설명**      | 문자 입력, 최대 **200자**                   | 특별한 형식 제한은 없음. 길이 초과 시 오류 표시.           | **선택** 사항.       |

⚠️ **주의:** **서브넷 이름, VPC, CIDR, DNS 서버는 한번 생성하면 변경할 수 없습니다.** 신중하게 입력하고 생성해야 합니다. 편집 모드에서도 **타입**과 **설명**만 수정 가능합니다.

## 서브넷 삭제
서브넷 삭제는 목록 화면에서 단일 혹은 여러 항목을 선택하여 수행할 수 있으며, 다음 조건을 만족해야 삭제가 가능합니다:

- 선택된 서브넷 중 **모든 IP가 해제된 상태**이어야 삭제가 가능합니다.
- 사용 중인 IP가 있는 경우, 삭제 요청 시 경고 메시지가 표시되고 삭제되지 않습니다.

⚠️ **주의:** 서브넷 삭제는 **복구할 수 없습니다.** 삭제 전에 반드시 해당 서브넷의 사용 여부를 확인하고, 모든 IP를 해제한 후 삭제하세요.

> 💡 **참고:** 삭제가 불가능한 서브넷 선택 후, 삭제 버튼을 클릭하면 “삭제 가능한 항목이 없습니다.”라는 안내 메시지가 표시됩니다.
