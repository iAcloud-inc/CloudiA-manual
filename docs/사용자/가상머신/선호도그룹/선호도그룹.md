# 선호도그룹

선호도 그룹 기능은 CloudiA에서 가상 머신(VM) 인스턴스들이 물리 호스트 상에서 함께 배치되거나 서로 분리되도록 제어하는 규칙을 설정하는 기능입니다.

프로젝트 내에서 관련 VM들을 하나의 “선호도 그룹”으로 묶고, 해당 그룹에 “선호도” (함께 배치) 또는 “반선호도” (분리 배치) 규칙을 지정할 수 있습니다.

또한 특정 물리 머신(호스트)에 대해 함께 사용하거나 사용하지 않도록 하는 규칙도 설정 가능합니다. 이를 통해 사용자들은 VM 간 물리적 배치 전략을 손쉽게 관리할 수 있습니다.

CloudiA의 선호도 그룹은 두 가지 차원의 규칙을 제공합니다:

가상머신 선호도 규칙: 그룹에 속한 VM 인스턴스들끼리 같은 호스트에 모이도록(선호도) 또는 서로 다른 호스트에 분산되도록(반선호도) 합니다.

물리 머신 선호도 규칙: 그룹에 지정된 물리 호스트들에 대해 그룹의 VM들이 해당 호스트에서만 실행되도록(선호도) 하거나 해당 호스트들에서는 실행되지 않도록(반선호도) 합니다.

각 규칙은 **강제(Strict)**와 비강제(Soft) 모드로 설정할 수 있습니다. **“강제”**로 지정하면 선호도 규칙을 만족하지 못하는 경우 해당 VM을 실행하지 않습니다. 반대로 **“비강제”**로 지정하면 규칙을 만족하지 못하더라도 VM이 실행될 수 있습니다. 예를 들어, VM-반선호도 규칙이 강제인 경우 이미 같은 호스트에 그룹 내 다른 VM이 있을 때 새 VM을 실행하지 않지만, 비강제인 경우 일시적으로 같은 호스트에 실행될 수도 있습니다.

참고: 선호도 그룹은 프로젝트 단위로 관리됩니다. 각 프로젝트의 VM과 호스트를 별도로 그룹화하며, 그룹이 “비활성화”된 경우 해당 그룹의 규칙은 적용되지 않습니다.

선호도 그룹 목록 및 접근 방법

CloudiA 콘솔에서 프로젝트를 선택한 후, 좌측 가상머신(VM) 메뉴 하위에 선호도 그룹 항목이 표시됩니다. 이 선호도 그룹 메뉴를 클릭하면 현재 프로젝트에서 관리 중인 모든 선호도 그룹의 목록 페이지로 이동합니다.

선호도 그룹 목록 페이지에서는 다음과 같은 정보가 표 형태로 나타납니다:

이름 – 선호도 그룹의 이름.

ID – 선호도 그룹의 고유 식별자.

활성화 여부 – 그룹이 활성화(규칙 적용) 상태인지 비활성화 상태인지 표시합니다. (활성화 또는 비활성화로 표기)

설명 – 그룹에 대한 설명(메모).

생성 일시 – 그룹이 생성된 날짜와 시간.

사용자는 이 화면에서 선호도 그룹을 선택하고 생성, 편집, 삭제 작업을 수행할 수 있습니다:

생성: 새로운 선호도 그룹을 추가합니다.

편집: 선택한 선호도 그룹의 설정(이름, 활성화, 규칙 등)을 수정합니다. (한 번에 하나의 그룹만 편집 가능)

삭제: 선택한 그룹을 삭제합니다. (여러 그룹 동시 선택 후 삭제도 가능)

다음 섹션들에서 각 작업별 구체적인 사용 방법을 설명합니다.

선호도 그룹 생성

새로운 선호도 그룹을 생성하려면 아래 절차를 따르십시오:

목록 페이지 접근: 프로젝트 > VM > 선호도 그룹 메뉴로 이동하여 선호도 그룹 목록 페이지를 엽니다.

생성 버튼 클릭: 상단 툴바에서 “생성” 버튼을 클릭합니다. 선호도 그룹 생성 화면이 나타납니다.

기본 정보 입력: “기본 정보” 섹션에서 선호도 그룹의 기본 속성을 입력합니다.

이름: 그룹의 이름을 입력합니다. (영문자, 숫자, 하이픈(-), 밑줄(_)만 사용 가능하며 최대 20자까지 입력 가능합니다.) 이 이름으로 메뉴 및 목록에 그룹이 표시됩니다.

활성화 여부: 그룹을 즉시 활성화할지 여부를 토글로 선택합니다. 활성화로 두면 그룹 생성 후 규칙이 바로 적용되며, 비활성화로 두면 일단 규칙을 적용하지 않고 생성만 합니다. (필요 시 추후 활성화 가능)

설명: 그룹에 대한 설명이나 메모를 입력합니다 (선택 사항, 최대 200자). 예를 들어 그룹의 용도나 포함된 VM에 대한 메모를 남길 수 있습니다.

가상머신 선호도 규칙 설정: “가상머신 선호도 규칙” 섹션에서 VM 간의 배치 규칙을 지정합니다.

가상머신 선호도: 세 가지 옵션 중 하나를 선택합니다.

선호도: 그룹의 VM들이 가능한 같은 물리 호스트에 모이도록 배치합니다 (Positive Affinity).

반선호도: 그룹의 VM들이 가능한 서로 다른 호스트에 분산되도록 배치합니다 (Anti-affinity).

사용 안 함: VM 간 선호도 규칙을 적용하지 않습니다.

가상머신 강제성: VM 선호도 규칙을 엄격히 적용할지 여부를 선택합니다.

강제: 규칙을 만족하지 못하면 해당 VM 인스턴스를 실행하지 않습니다. (예: 반선호도-강제인 경우, 동일 그룹의 다른 VM이 실행 중인 호스트에는 새 VM 실행 불가)

비강제: 규칙을 만족하지 못해도 VM 인스턴스를 실행할 수 있습니다. (가능한 한 규칙을 따르되, 불가피하면 예외 허용)
※ “가상머신 선호도”를 “사용 안 함”으로 선택하면 VM 간 규칙을 적용하지 않으므로, 이 경우 “강제/비강제” 설정은 자동으로 “사용 안 함”으로 처리됩니다.

물리 머신 선호도 규칙 설정: “물리 머신 선호도 규칙” 섹션에서 특정 호스트에 대한 배치 규칙을 지정합니다.

물리 머신 선호도: 세 가지 옵션 중 하나를 선택합니다.

선호도: 그룹의 VM들이 **지정된 물리 머신(호스트)**에서만 실행되도록 합니다. (특정 호스트들에 대한 Positive Affinity)

반선호도: 그룹의 VM들이 지정된 물리 머신에서는 실행되지 않도록 합니다. (특정 호스트들에 대한 Anti-affinity)

사용 안 함: 호스트 대상에 대한 어떤 규칙도 적용하지 않습니다.

물리 머신 강제성: 호스트 선호도 규칙의 적용 방식을 선택합니다.

강제: 규칙을 만족하지 못하면 해당 VM을 실행하지 않습니다. (예: 특정 호스트-반선호도-강제인 경우, 지정된 금지 호스트에 VM이 절대 실행되지 않음)

비강제: 규칙을 만족하지 못해도 VM을 실행은 허용하되, 가능한 한 규칙을 지키도록 합니다.
※ “물리 머신 선호도”를 “사용 안 함”으로 선택하면 호스트 규칙이 적용되지 않으며, 이 경우 강제 여부도 “사용 안 함”으로 표시됩니다.

선호도 그룹 대상 추가: 그룹에 포함시킬 **대상 자원(가상머신 인스턴스 및/또는 물리 머신)**을 선택합니다. “선호도 그룹 대상 추가” 섹션에서 아래 작업을 수행하십시오.

VM 인스턴스 추가: 가상머신 대상 목록에 이 그룹에 포함할 VM들을 선택합니다. “추가” 버튼을 눌러 현재 프로젝트의 VM 목록을 불러온 뒤, 그룹에 포함할 VM 인스턴스를 다중 선택하여 추가할 수 있습니다. 선택한 VM들은 “가상머신 대상” 리스트에 표시됩니다.

물리 머신 추가: 물리 머신 대상 목록에 이 그룹에 연관지을 호스트들을 선택합니다. 프로젝트에 등록된 물리 머신(컴퓨트 노드) 중에서 그룹 규칙에 적용할 호스트들을 선택합니다. (호스트 선택 UI에서 해당 호스트들을 체크하여 추가할 수 있습니다.) 선택된 호스트들이 “물리 머신 대상” 리스트에 포함됩니다.

VM 또는 호스트 대상을 반드시 추가해야 하는 것은 아닙니다. 규칙 종류에 따라 적절한 대상을 선택하면 됩니다. (예: VM 간 반선호도 그룹을 만들 경우 물리 머신 대상은 선택하지 않아도 됩니다. 반대로 특정 호스트에 대한 규칙만 설정할 경우 VM 대상 없이 호스트만 선택할 수도 있습니다.)

그룹 생성 완료: 모든 정보를 입력하고 설정을 마쳤으면 화면 하단의 “생성” 또는 “확인” 버튼을 눌러 선호도 그룹을 생성합니다. 생성 요청이 성공하면 성공 메시지가 나타나고, 그룹 목록 페이지로 돌아가 새 선호도 그룹이 목록에 추가된 것을 확인할 수 있습니다.

이렇게 생성된 선호도 그룹은 활성화 상태라면 이후 VM 생성/실행 시 해당 규칙이 적용됩니다. 비활성화 상태로 만들었다면 규칙은 적용되지 않으며, 필요에 따라 나중에 편집 화면에서 활성화할 수 있습니다.

선호도 그룹 상세 보기

생성된 선호도 그룹을 클릭하거나, 목록에서 그룹을 선택한 후 “상세” 화면으로 이동하면 해당 그룹의 상세 정보를 확인할 수 있습니다. 상세 화면은 두 부분으로 구성됩니다: 그룹의 기본 정보와 **대상 자원 목록(가상머신/물리 머신)**입니다.

선호도 그룹 기본 정보

상단에는 선호도 그룹의 주요 설정 값들이 표 형태로 나열됩니다. 여기에는 다음 항목들이 포함됩니다:

이름: 그룹 이름.

ID: 그룹 식별자.

활성화 여부: 현재 활성화(규칙 적용 중)인지 여부 – 활성화 또는 비활성화.

설명: 그룹에 대한 메모/설명.

가상머신 선호도: VM 간 규칙 설정 – 선호도, 반선호도 또는 사용 안 함으로 표시됩니다.

가상머신 강제성: VM 규칙의 강제 적용 여부 – 강제, 비강제 또는 (규칙 없을 시) 사용 안 함.

물리 머신 선호도: 호스트 대상 규칙 – 선호도, 반선호도 또는 사용 안 함.

물리 머신 강제성: 호스트 규칙의 강제 적용 여부 – 강제, 비강제 또는 사용 안 함.

생성 일시: 그룹이 처음 생성된 날짜/시간.

이 정보를 통해 해당 그룹의 구성과 규칙 상태를 한눈에 파악할 수 있습니다. 예를 들어, “가상머신 선호도: 반선호도 (비강제)”로 표시되어 있다면 이 그룹의 VM들은 서로 다른 호스트에 배치하려는 규칙을 가지고 있고, 규칙을 어겨도 실행은 허용됨을 의미합니다.

선호도 그룹 대상 목록 (VM / 물리 머신)

그룹 기본 정보 아래에는 선호도 그룹 대상으로 묶인 자원들의 목록을 볼 수 있습니다. “가상머신” 탭과 “물리 머신” 탭이 제공되며, 각 탭에서 해당 그룹에 포함된 VM 인스턴스들과 물리 머신들을 각각 확인할 수 있습니다:

가상머신 탭: 이 그룹에 속한 모든 VM 인스턴스 목록이 표시됩니다. 각 VM의 이름, ID, IP주소, 상태(실행 중/중지 등), vCPU 개수, 메모리, 생성일 등의 주요 정보가 열(column)로 나타납니다. 한 화면에 일정 개수(기본 5개)씩 표시되며, 페이지네이션을 통해 다른 항목도 볼 수 있습니다.

물리 머신 탭: 이 그룹에 연관된 물리 호스트 목록이 표시됩니다. 각 호스트의 이름, ID, 등록된 일시 등의 정보가 포함됩니다. 역시 한 번에 몇 개씩 목록이 보이고 페이지 전환이 가능합니다. (물리 머신은 주로 클러스터의 호스트 노드를 가리키며, 관리자가 사전에 등록한 호스트만 선택되어 나타납니다.)

이 두 탭을 통해 현재 선호도 그룹에 어떤 VM과 호스트가 맵핑되어 있는지 쉽게 파악할 수 있습니다. 예를 들어, VM 탭에 3개의 인스턴스가 보이고, 호스트 탭에 2개의 물리 머신이 보인다면 해당 3개 VM이 지정된 2개 호스트와 관련된 선호도 규칙을 따르고 있음을 유추할 수 있습니다.

선호도 그룹 편집 (설정 변경)

이미 생성된 선호도 그룹의 설정(이름, 활성화 여부, 선호도/반선호도 규칙 등)을 변경하려면 편집 기능을 사용합니다. 편집 방법은 다음과 같습니다:

편집 화면 진입: 선호도 그룹 목록 페이지에서 수정하려는 그룹을 한 개 선택한 뒤, 상단 툴바의 “편집” 버튼을 클릭합니다. (또는 상세 화면 상단에서 편집 기능이 제공되는 경우 해당 버튼을 눌러도 됩니다.) 그러면 선호도 그룹 생성 때와 유사한 편집 화면이 열립니다. 이 화면에는 현재 그룹의 설정값들이 이미 채워져 있습니다.

값 수정: 편집 화면에서 그룹의 기본 정보와 규칙 설정을 원하는 대로 수정합니다. 이름이나 설명을 변경하거나, 활성화 토글을 on/off하여 그룹 활성화 상태를 바꿀 수 있습니다. 또한 가상머신 선호도/반선호도 설정, 물리 머신 선호도/반선호도 설정, 그리고 각 규칙의 강제/비강제 모드도 변경 가능합니다.

예: 그룹을 일시적으로 비활성화하려면 활성화 여부를 비활성화로 전환합니다. 또는 처음에는 VM 선호도 규칙만 있었다가 호스트 제약을 추가하고 싶다면 물리 머신 선호도를 선호도로 설정하고 관련 호스트를 선택할 수 있습니다.

대상 자원 수정: (선호도 그룹에 속한 VM/호스트 멤버를 변경하는 작업은 이 편집 화면에서는 불가능합니다. 멤버 변경은 상세 화면에서 별도로 수행합니다 – 아래 ‘대상 추가/삭제’ 참조.) 편집 화면에서는 대상 추가/삭제 UI는 표시되지 않으며, 기존 설정값만 수정하게 됩니다. (그룹 대상 관리에 대해서는 다음 절을 참고하세요.)

저장: 원하는 대로 수정을 마쳤으면 “확인” 또는 “저장” 버튼을 클릭하여 변경사항을 저장합니다. 저장이 완료되면 해당 그룹의 설정이 즉시 업데이트되며, 변경된 내용이 상세 화면 및 목록에 반영됩니다. (예: 그룹 이름을 변경하면 목록에 새로운 이름이 나타납니다.)

주의: 선호도 규칙을 편집하여 충돌 가능성이 생기는 경우(예: 이미 충돌하는 다른 그룹이 있는 상태에서 새 규칙을 활성화 등) CloudiA가 오류 메시지를 표시할 수 있습니다. 이 경우 메시지를 확인하고 설정을 조정해야 합니다.

선호도 그룹 대상 추가 및 삭제 (멤버 관리)

선호도 그룹을 생성한 후, 그룹에 속하는 VM 인스턴스나 물리 머신 목록을 변경해야 할 때가 있습니다. 예를 들어 새로운 VM을 그룹에 포함시키거나, 기존 그룹에서 특정 VM을 빼고 싶을 수 있습니다. 이러한 그룹 대상(멤버) 변경은 선호도 그룹 상세 화면에서 이루어집니다.

각 상세 화면의 가상머신 탭과 물리 머신 탭에는 멤버 편집 기능이 제공됩니다. 탭 별로 “편집” 버튼을 사용하여 해당 목록을 수정할 수 있습니다:

가상머신 멤버 수정: 선호도 그룹 상세 화면에서 가상머신 탭을 열고, 우측 상단의 “편집” 버튼을 클릭합니다. 그러면 현재 그룹에 속한 VM 리스트를 편집할 수 있는 화면이 나타납니다.
여기서 다음 작업을 수행하십시오:

VM 제거: 리스트에서 그룹에서 제거하고 싶은 VM을 선택하고 “삭제” 버튼을 클릭합니다. 선택된 VM 인스턴스들이 목록에서 제외되어, 임시로 제거됩니다.

VM 추가: “추가” 버튼을 클릭하면 프로젝트 내 모든 VM 인스턴스 목록이 팝업으로 나타납니다. 이 중 그룹에 새로 포함시킬 VM들을 선택하여 추가합니다. 이미 그룹에 있는 VM은 중복으로 추가되지 않으며, 새로운 VM들이 목록에 추가됩니다.

저장: VM 멤버 편집이 끝나면 “저장” 버튼을 눌러 변경 내용을 확정합니다. 저장 후에는 그룹의 VM 대상 목록이 업데이트되며, 해당 변경 사항이 즉시 적용됩니다. (예: 추가된 VM에는 이제 이 그룹의 선호도 규칙이 적용됩니다. 제거된 VM은 더 이상 규칙 영향 받지 않습니다.)

물리 머신 멤버 수정: 상세 화면에서 물리 머신 탭을 선택한 후 “편집” 버튼을 클릭합니다. 그룹에 연관된 호스트 목록을 수정하는 화면이 나타납니다.
여기서는 현재 그룹에 지정된 물리 머신들을 체크박스 형태의 리스트로 표시하며, 호스트를 추가하거나 제거할 수 있습니다:

호스트 추가/제거: 리스트에서 새로 그룹에 포함할 호스트를 체크하여 선택하거나, 기존에 체크된 호스트를 체크 해제하여 제외합니다. 이 UI에서는 프로젝트의 모든 사용 가능한 호스트를 보여주며, 사용자가 원하는 대로 선택 상태를 변경할 수 있습니다.

저장: 변경된 호스트 선택 상태를 확인한 뒤 “저장” 버튼을 클릭합니다. 그러면 그룹의 물리 머신 대상이 업데이트되어, 새로운 호스트들이 그룹에 연계되거나 제외된 호스트들은 더 이상 연계되지 않게 됩니다. (예: 호스트를 추가했다면 해당 호스트들에 대해서도 그룹의 규칙이 적용되며, 제거된 호스트에 대해서는 규칙 적용이 해제됩니다.)

멤버 수정 작업을 완료하면 상세 화면의 대상 목록이 갱신되어 변경 내용을 반영합니다. 선호도 그룹의 규칙은 현재 포함된 멤버들에 대해서만 적용되므로, VM이나 호스트를 추가/삭제한 후에는 반드시 해당 변경사항을 저장해야 규칙이 올바르게 적용됩니다.

선호도 그룹 삭제

더 이상 필요하지 않은 선호도 그룹을 정리하려면 삭제 기능을 사용합니다. 주의: 그룹을 삭제해도 VM 인스턴스나 물리 호스트 자체가 삭제되는 것은 아니며, 오직 그룹 규칙과 맵핑 정보만 제거됩니다. 즉, 해당 VM들은 더 이상 특별한 배치 규칙 없이 동작하게 되고, 호스트 제약도 사라집니다.

선호도 그룹을 삭제하는 방법:

목록에서 선택: 선호도 그룹 목록 페이지로 이동하여, 삭제하려는 그룹을 선택합니다. (한 번에 여러 그룹을 선택하여 일괄 삭제할 수도 있습니다.)

삭제 버튼 클릭: 상단의 “삭제” 버튼을 클릭합니다. 선택된 그룹에 대해 삭제 확인 대화창이 나타납니다. (메시지 예: “선호도 그룹 삭제하시겠습니까?” 또는 다수 선택 시 “선호도 그룹 N개를 삭제하시겠습니까?”)

확인: 삭제 확인 창에서 확인을 선택하면 그룹이 삭제됩니다. 취소를 선택하면 삭제가 진행되지 않습니다.

결과 확인: 삭제가 완료되면 해당 그룹은 목록에서 사라집니다. 그룹에 속했던 VM들은 더 이상 어떤 선호도 그룹에도 속하지 않게 되며, 앞으로 신규 VM 실행 시 해당 그룹 규칙은 적용되지 않습니다.

팁: 운영 중인 VM이 있는 선호도 그룹을 삭제하면, 그 VM들은 즉시 규칙 적용 대상에서 빠지지만 이미 실행 중인 VM의 상태가 즉각 변하는 것은 아닙니다. 다만, 이후 새로운 VM을 띄우거나 VM을 재시작할 때는 더 이상 삭제된 그룹의 제약을 받지 않는다는 점을 염두에 두십시오.

以上が CloudiAにおける「선호도 그룹」 기능の運용方法です. 이러한 사용자 가이드를 참고하여 VMの配置戦略を効率的に管理してください. (끝)