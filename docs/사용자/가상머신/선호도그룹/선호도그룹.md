# CloudiA 선호도 그룹 사용자 가이드

**선호도 그룹**은 여러 가상머신의 배치 위치를 제어하기 위한 도구입니다.

선호도 그룹을 정의하여 지정한 가상머신들을 같은 물리 호스트에 함께 배치하거나, 혹은 반대로 서로 다른 호스트에 배치되도록 하는 규칙을 정할 수 있습니다.

또한 호스트 단위의 선호도 설정을 통해 특정 가상머신들이 지정된 호스트에서만 실행되거나 혹은 피하도록 설정할 수도 있습니다.

## 목차

1. 선호도 그룹 목록
2. 선호도 그룹 상세
5. 선호도 그룹 대상 편집
3. 선호도 그룹 생성 및 편집
6. 선호도 그룹 삭제

## 선호도 그룹 목록

선호도 그룹 목록 화면에서는 프로젝트 내 모든 선호도 그룹 항목을 확인하고 관리할 수 있습니다.

화면 상단 도구 모음에서 새 선호도 그룹을 [생성]할 수 있으며, 목록에서 항목을 선택하고 [편집] 또는 [삭제] 작업을 수행할 수 있습니다. 선호도 그룹의 이름을 클릭하면 해당 선호도 그룹의 상세 화면으로 이동합니다.

선호도 그룹 목록의 주요 컬럼은 다음과 같습니다:

| **컬럼** | **설명** |
| --- | --- |
| 이름 | 선호도 그룹의 이름입니다. |
| ID | 선호도 그룹의 고유 식별자입니다. |
| 활성화 여부 | 선호도 그룹의 활성화 여부입니다. |
| 설명 | 선호도 그룹의 설명입니다. |
| 생성 일시 | 선호도 그룹의 생성 날짜와 시각입니다. |

## 선호도 그룹 상세

선호도 그룹 목록에서 선호도 그룹의 이름을 선택하면 **선호도 그룹 상세** 화면으로 이동합니다. 상단에는 해당 선호도 그룹의 상세 정보가 표시됩니다.

- **이름**: 선호도 그룹의 이름을 표시합니다.
- **이름**: 선호도 그룹의 고유 식별자를 표시합니다.
- **활성화 여부** : 선호도 그룹의 활성화 여부를 표시합니다.
- **설명**: 선호도 그룹에 대한 설명을 표시합니다.
- **가상머신 선호도** : 선호도 그룹의 대상 가상머신을 함께 배치할지 분산 배치할지 혹은 미설정 여부를 표시합니다.
- **가상머신 강제성**: 선호도 그룹의 대상 가상머신에 대해 선호도 규칙의 강제할지 여부를 표시합니다.
- **물리 머신 선호도** : 선호도 그룹의 대상 가상머신이 대상 물리 머신을 선호할지 기피할지 혹은 미설정 여부를 표시합니다.
- **물리 머신 강제성** : 물리 머신 규칙에 대해 강제성을 할지 여부를 체크합니다.

### 하단 탭 (가상머신)

| **컬럼** | **설명** |
| --- | --- |
| **이름** | 가상머신의 이름입니다. |
| **ID** | 가상머신의 고유 식별자입니다. |
| **생성 방식** | 인스턴스의 생성 방법을 나타냅니다.  |
| **IP** | 인스턴스의 기본 네트워크 인터페이스에 할당된 IP 주소입니다. |
| **상태** | 인스턴스의 작동 상태입니다. **실행 중**, **정지됨**, **재부팅 중**, **마이그레이션 중** 등 현재 상태가 한글로 표시됩니다.
| **vCPU** | 인스턴스에 할당된 가상 CPU 코어 수입니다. |
| **메모리 크기** | 인스턴스에 할당된 메모리 용량입니다. |
| **생성 일시** | 인스턴스가 최초로 생성된 날짜와 시간입니다. |

### 하단 탭 (물리 머신)

| **컬럼** | **설명** |
| --- | --- |
| **이름** | 물리 머신의 이름입니다. |
| **ID** | 물리 머신의 고유 식별자입니다. |
| **생성 일시** | 물리 머신이 최초로 생성된 날짜와 시간입니다. |

## 선호도 그룹 대상 편집

선호도 그룹 상세 페이지의 하단 탭에서 [편집]을 클릭하여 선호도 그룹의 규칙을 적용할 가상머신 대상과 물리 머신 대상을 수정할 수 있습니다.

- **가상머신 대상 수정**: 선호도 그룹 규칙을 적용할 가상머신들을 선택하여 추가합니다.
- **물리 머신 대상 수정**: 선호도 그룹 규칙의 기준이 될 물리 머신들을 선택하여 추가합니다.

대상 선택을 완료한 후 **저장**을 선택하여 변경 사항을 반영합니다.

⚠️ 주의 : CloudiA는 선호도 그룹의 생성, 편집 요청 시 다른 선호도 그룹의 규칙과 충돌이 있는 경우 오류를 표시하여 이러한 구성을 방지합니다.

## 선호도 그룹 생성 및 편집

선호도 그룹 생성 화면과 편집 화면은 동일한 양식으로 구성되어 있으며, 선호도 그룹의 각종 설정 값을 입력할 수 있습니다.

1. 기본 정보
- **이름**: 선호도 그룹의 이름을 입력합니다.
- **설명**: 선호도 그룹에 대한 설명을 입력합니다.
- **활성화 여부** : 선호도 그룹의 활성화 여부입니다.

2. 가상머신 선호도 규칙
- **가상머신 선호도** : 선호도 그룹의 대상 가상머신들을 함께 배치할지 분산 배치할지 결정합니다.  `사용 안함` 설정 시 가상머신에 대한 선호도를 적용하지 않습니다.
- **가상머신 강제성**: **가상머신 선호도** 규칙을 강제할지 여부를 결정합니다. `강제` 설정한 경우 대상 가상머신 실행 시 선호도 그룹의 규칙을 만족하는 물리 머신이 없다면 실행에 실패합니다.

3. 물리 머신 선호도 규칙
- **물리 머신 선호도** : 물리 머신에 대한 선호도 규칙으로 대상 물리 머신을 선호할지 기피할지 결정합니다. `사용 안함` 설정 시 물리 머신에 대한 선호도를 적용하지지 않습니다.
- **물리 머신 강제성** : **물리 머신 선호도** 규칙을 강제할지 여부를 체크합니다. `강제` 설정한 경우 대상 가상머신 실행 시 선호도 그룹의 규칙을 만족하는 물리 머신이 없다면 실행에 실패합니다.

4. 선호도 그룹 대상 추가
- **가상머신** : 선호도 그룹의 규칙을 적용할 가상머신을 선택합니다.
- **물리 머신** :  선호도 그룹의 가상머신이 물리 머신 선호도 규칙으로 제한할 물리 머신을 선택합니다.

입력을 완료한 후 [생성] 또는 [확인] 버튼을 클릭하여 선호도 그룹을 생성합니다.

⚠️ 주의: 이미 실행 중인 가상머신은 선호도 그룹의 규칙에 영향을 받지 않으며 다음 실행 시 선호도 그룹의 규칙에 의해 해당 가상머신을 실행할 물리 머신이 결정됩니다.

## 선호도 그룹 삭제

선호도 그룹 목록에서 [삭제]를 선택하여 선호도 그룹을 삭제할 수 있습니다.

선호도 그룹을 삭제해도 선호도 그룹의 가상머신들은 즉시 종료되거나 이동하지는 않습니다. 향후 해당 가상머신들의 배치에는 더 이상 해당 그룹의 규칙이 적용되지 않습니다.
