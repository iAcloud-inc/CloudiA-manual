# 오토 스케일링 그룹

오토 스케일링 그룹은  가상 머신의 리소스 지표(임계치)를 추적하여 가상 머신(Instance)의 개수를 자동으로 증가 또는 감소시키는 기능입니다.

사용자의 서비스 부하나 자원 사용률에 맞춰 인스턴스 수를 조절하여 최소 자원으로 안정적인 서비스 운영을 돕습니다. 예를 들어, CPU 사용량이 높아지면 인스턴스를 추가로 생성해주고, 낮아지면 인스턴스를 줄여줌으로써 성능과 비용을 효율적으로 관리할 수 있습니다. 기술적인 배경이 없어도, 설정된 조건만 만족하면 CloudiA가 자동으로 인스턴스를 관리해주므로 손쉽게 확장성과 가용성을 확보할 수 있습니다.

해당 페이지에서는 오토 스케일링 그룹의 조회, 생성, 삭제 기능이 사용 가능합니다. 

## 오토 스케일링 그룹 목록 조회

본 장에서는 오토 스케일링 그룹 목록 조회 기능에 대해 설명합니다. 

### 사용자 시나리오

1. **[가상 머신] > [오토 스케일링 그룹]** 메뉴를 선택하여 오토 스케일링 그룹 목록 조회 페이지로 이동합니다.

2. 현재 프로젝트에서 생성한 오토 스케일링 그룹의 요약 정보를 확인할 수 있습니다.

#### 출력 데이터 항목 및 설명 (오토 스케일링 그룹 목록 조회)
| Output Data | 설명 |
| --- | --- |
| 이름 | 오토 스케일링 그룹의 이름입니다. |
| ID | 오토 스케일링 그룹에 부여된 고유 식별자입니다. |
| 시작 템플릿 | 오토 스케일링 그룹이 가상 머신 인스턴스를 생성할 때 사용하는 시작 템플릿의 이름입니다. |
| 인스턴스 상태 | 현재 그룹 내 인스턴스의 실행 중인 개수/전체 개수를 나타냅니다. 예를 들어 `3/5`는 총 5개의 인스턴스 중 3개가 현재 정상 실행 중임을 의미합니다. |
| 상태 | 오토 스케일링 그룹의 상태를 표시합니다. 예를 들어 `생성 중`, `정상 실행 중`, `업데이트 중`, `삭제 중`, `일시 중지됨`, `스케일 인 진행 중`, `스케일 아웃 진행 중` 등의 상태를 아이콘과 텍스트로 보여줍니다. |
| 생성 일시 | 해당 오토 스케일링 그룹이 처음 생성된 날짜와 시간입니다. |

3. 화면 상단의 검색창을 이용하여 오토 스케일링 그룹 이름으로 필터링할 수 있습니다. (예: 이름의 일부를 입력하여 일치하는 그룹만 목록에 표시)

## 오토 스케일링 그룹 생성

본 장에서는 오토 스케일링 그룹 생성 기능에 대해 설명합니다.

오토 스케일링 그룹을 생성하려면 다음과 같은 사전 조건을 만족해야 합니다.

- 시작 템플릿 생성

### 사용자 시나리오

1. **[가상 머신] > [오토 스케일링 그룹]** 탭에 접근합니다.

[이미지]: #

2. [생성] 버튼을 클릭하여 **[오토 스케일링 그룹 생성]** 페이지로 이동합니다.

[이미지]: #

3. **[오토 스케일링 그룹 생성]** 페이지에서 오토 스케일링 그룹 생성을 위한 기본 정보를 입력합니다. (입력 데이터 형식 및 허용 범위 표 참조) 

[이미지]: #

#### 입력력 데이터 항목 및 설명 (오토 스케일링 그룹 생성)
| Output Data | 설명 |
| --- | --- |
| 이름 | 오토 스케일링 그룹의 이름을 지정합니다. |
| 시작 템플릿 | 오토 스케일링 그룹에서 가상 머신 인스턴스 생성 시 사용할 시작 템플릿을 선택합니다. |
| 타겟 그룹 | 로드 밸런서와 연동하기 위해 타겟 그룹을 함께 만들지 선택합니다. (해당 타겟 그룹에 오토 스케일링 그룹에서 관리하는 가상 머신 인스턴스들이 자동으로 등록됩니다.) |
| 타겟 그룹 프로토콜 | 타겟 그룹에서 사용할 프로토콜을 지정합니다. 목록에서 TCP 또는 UDP를 선택할 수 있습니다. |
| 포트 번호 | 타겟 그룹이 트래픽을 전달할 포트 번호를 입력합니다. |
| 설명 | 오토 스케일링 그룹에 대한 설명이나 메모를 입력합니다. |
| 최소 용량 | 오토 스케일링 그룹이 유지해야 할 최소 인스턴스 개수를 지정합니다. 자원 사용량이 임계값 미만인 상황에서도 최소 용량 미만으로 인스턴스를 줄이지 않습니다. |
| 최대 용량 | 이 그룹이 허용하는 최대 인스턴스 개수를 지정합니다. 자원 사용량이 임계값을 초과한 상황에서도 최대 용량을 초과하여 인스턴스를 늘리지 않습니다.|
| 원하는 용량 | 처음에 실행할 초기 인스턴스 개수를 설정합니다. 원하는 이 값만큼 오토 스케일링 그룹 생성 시 인스턴스를 시작합니다. 이후 오토 스케일링에 의해 인스턴스 수가 동적으로 변경될 수 있습니다. |
| 스케일 간격 | 오토 스케일링 그룹이 인스턴스를 추가하거나 제거한 후 다음 용량 조정을 허용할 시간 간격을 입력합니다. 해당 기간 동안 추가적인 용량 조정을 수행하지 않습니다. |
| 지표 유형 | 오토 스케일링의 기준이 될 가상 머신 자원 지표를 선택합니다. |
| 스케일 인 대상값 | 인스턴스 감소(스케일 인) 여부를 결정하는 임계값입니다. 오토 스케일링 그룹의 사용량의 평균치가 스케일 인 대상값 이하로 떨어지면 인스턴스를 종료합니다. |
| 스케일 아웃 대상값 | 인스턴스를 증가(스케일 아웃) 시킬 트리거 값입니다. 선택한 지표의 평균치가 스케일 인 대상값 이상으로 상승하면 새로운 인스턴스를 추가합니다. |

4. 모든 필수 정보를 입력하고 확인(생성) 버튼을 누르면 오토 스케일링 그룹 생성 요청이 완료됩니다. 

5. 생성 요청 후에는 상태가 `생성 중`으로 표시될 수 있으며, 잠시 후 목록에 새로운 그룹이 추가되고 상태가 `실행 중`으로 바뀝니다. 이제 CloudiA가 설정된 정책에 따라 인스턴스를 자동으로 관리하기 시작합니다.

## 오토 스케일링 그룹 상세 정보 확인

본 장에서는 오토 스케일링 그룹 상세 정보 확인 기능에 대해 설명합니다.

### 사용자 시나리오

1. **[가상 머신] > [오토 스케일링 그룹]** 탭에 접근합니다.

2. 목록에서 조회하고자 하는 오토 스케일링 그룹의 이름을 선택하여 오토 스케일링 그룹의 상세 정보 조회 페이지로 이동합니다.

3. 오토 스케일링 그룹의 상세 정보 조회 페이지의 상단에는 상세 정보가 표시됩니다. 페이지 하단에는 [인스턴스]와 [조정 정책]을 확인할 수 있는 탭이 표시됩니다.

#### 출력 데이터 항목 및 설명 (오토 스케일링 그룹 상세 정보)
| Output Data | 설명 |
| --- | --- |
| 이름 | 오토 스케일링 그룹의 이름입니다. |
| 상태 | 오토 스케일링 그룹의 상태 아이콘과 텍스트를 표시합니다. |
| 시작 템플릿 | 오토 스케일링 그룹에서 가상 머신 인스턴스 생성에 사용하는 시작 템플릿의 이름과 ID를 표시합니다. |
| 상태 | 오토 스케일링 그룹의 상태를 표시합니다. |
| 인스턴스 상태 | 현재 그룹 내 인스턴스의 실행 중인 개수/전체 개수를 나타냅니다. (예: `3/5개`) |
| 타겟 그룹 | 이 그룹이 생성할 때 함께 만든 타겟 그룹의 이름과 ID가 표시됩니다. (타겟 그룹을 생성하지 않았다면 `-` 로 표시됩니다.) |
| 최소 용량 | 오토 스케일링 그룹의 최소 용량을 표시합니다. |
| 최대 용량 | 오토 스케일링 그룹의 최대 용량을 표시합니다. |
| 스케일 간격 | 오토 스케일링 그룹의 스케일 간격을 표시합니다. |
| 생성 일시 | 오토 스케일링 그룹을 생성한 날짜와 시간입니다. |
| 설명 | 오토 스케일링 그룹의 설명입니다. |

#### 출력 데이터 항목 및 설명 (오토 스케일링 그룹 상세 인스턴스)

| Output Data | 설명 |
| --- | --- |
| 이름 | 인스턴스 이름 (Auto Scaling에서 생성한 인스턴스의 이름은 자동으로 지정됩니다.) |
| ID | 인스턴스의 고유 ID |
| IP | 인스턴스에 할당된 IP 주소 |
| 상태 | 인스턴스의 현재 상태 (예: `실행 중`, `종료` 등) |
| vCPU | 인스턴스의 가상 CPU 개수 |
| 메모리 | 인스턴스의 메모리 크기 |
| 생성 일시 | 해당 인스턴스가 생성된 시간 |

#### 출력 데이터 항목 및 설명 (오토 스케일링 그룹 상세 조정 정책)

| Output Data | 설명 |
| --- | --- |
| 리소스 타입 | 오토 스케일링 그룹 용량 조정 기준이 되는 가상 머신 자원의 종류입니다. |
| 대상값 | 오토 스케일링 그룹의 자원 사용량 평균치가 도달하였을 때 용량 조정이 발생하는 임계값입니다. |
| 조정 정책 | 오토 스케일링 그룹의 자원 사용량 평균치가 대상값에 도달하였을 때 오토 스케일링 그룹의 용량을 늘이거나 줄이고자 하는 정책입니다. |

## 오토 스케일링 그룹 조정 정책 편집

본 장에서는 오토 스케일링 그룹 조정 정책 편집 기능에 대해 설명합니다.

### 사용자 시나리오

1. 오토 스케일링 그룹 목록에서 이름을 선택하여 오토 스케일링 그룹 상세 페이지로 이동합니다.

2. 페이지 하단의 **[조정 정책]**을 선택하고 **[편집]** 버튼을 클릭하면 **[조정 정책 편집]** 모달이 나타납니다.

3. 지표 유형, 스케일 인 대상값, 스케일 아웃 대상값을 변경하고 하단의 **[편집]** 버튼을 선택하여 변경 사항을 반영합니다.

4. 수정 내용을 저장하면 새로운 임계치가 적용되며, 이후부터는 업데이트된 조건에 따라 오토 스케일링이 동작합니다.

### 오토 스케일링 그룹 편집

이미 생성된 오토 스케일링 그룹의 설정을 변경하려면, 목록 화면에서 해당 그룹을 선택한 후 상단의 편집 버튼을 클릭합니다. 그러면 오토 스케일링 그룹 편집 페이지로 이동하는데, 이 화면은 생성 페이지와 거의 동일한 폼으로 구성되어 있으며 현재 설정값들이 미리 채워져 있습니다. 필요한 항목을 수정한 뒤 확인(편집) 버튼을 누르면 변경사항이 적용됩니다.

편집 가능한 항목: 이름, 원하는 용량, 최소/최대 용량, 스케일 간격, 조정 정책(임계값) 등을 변경할 수 있습니다. 설명도 수정 또는 추가할 수 있습니다.

변경 불가능한 항목: 런치 템플릿과 타겟 그룹 생성 여부는 일단 그룹이 생성되고 나면 변경할 수 없습니다. (런치 템플릿을 바꾸려면 새 오토 스케일링 그룹을 만들어야 하며, 타겟 그룹도 생성 시에만 선택 가능합니다.) 또한 그룹 편집 시에는 타겟 그룹의 프로토콜과 포트도 수정할 수 없습니다. 이는 처음 설정한 네트워킹 구성을 유지하기 위함입니다.

원하는 용량 조정: 그룹 편집을 통해 **현재 원하는 용량(인스턴스 수 목표치)**을 높이거나 낮출 수 있습니다. 만약 현재 실행 중인 인스턴스 수보다 원하는 용량을 큰 값으로 변경하여 저장하면, CloudiA는 즉시 부족한 인스턴스를 추가로 생성하여 원하는 개수를 맞추려 시도합니다(최대 용량 한도 내). 반대로 원하는 용량을 줄이면, 초과된 인스턴스를 순차적으로 종료하여 그룹을 축소시킵니다(최소 용량 밑으로는 내려가지 않음). 이 방법으로 일시적으로 수동 스케일 조정을 할 수 있지만, 이후에는 다시 자동 임계치 정책에 따라 동작하게 됩니다.

조정 정책 변경: 편집 화면 하단에서 조정 정책(Threshold)를 변경할 수 있습니다. 지표 유형(CPU/메모리)을 변경하거나 임계값 퍼센트를 수정하여, 새로운 부하 패턴에 맞게 자동 스케일링 조건을 업데이트하세요.

변경 내용을 저장하고 편집 요청을 완료하면, CloudiA는 설정 변경 사항을 적용합니다. 예를 들어 최소/최대 용량을 늘렸다면 그 범위 내에서 추후 인스턴스 증설이 가능해지며, 원하는 용량을 조정했다면 즉각 인스턴스 수를 맞추기 위한 작업이 진행됩니다. 편집 후에는 상세 페이지의 정보를 다시 확인하여 값들이 제대로 반영되었는지 확인하세요.

### 오토 스케일링 그룹 일시 중지 및 재개

일시 중지 기능은 오토 스케일링 그룹의 자동 증감 기능을 잠시 멈추고 싶을 때 사용합니다. 예를 들어 시스템 점검이나 일시적인 트래픽 변화로 자동 증감을 원치 않을 경우, 그룹을 일시 중지하면 설정된 임계치에 도달해도 새 인스턴스를 만들거나 종료하지 않게 됩니다.

일시 중지하는 방법: 목록 화면에서 상태가 **UP(활성)**인 오토 스케일링 그룹을 선택하면 일시 중지 버튼이 활성화됩니다. 이를 클릭하면 해당 그룹의 상태가 **일시 중지(SUSPENDED)**로 변경되고, 이후부터는 자동 스케일링이 동작하지 않습니다. (현재 실행 중인 인스턴스들은 그대로 유지되지만, 추가 생성이나 축소가 이루어지지 않습니다.)

재개하는 방법: 일시 중지된 그룹을 다시 자동 운영 상태로 되돌리려면, 목록에서 해당 그룹을 선택하고 재개 버튼을 누릅니다. 그룹 상태가 다시 **UP(활성)**으로 바뀌며, 설정된 조정 정책에 따라 자동 스케일링 기능이 다시 동작합니다. 재개 후에는 그룹이 일시 중지 중에 누적된 부하 상태를 체크하여 필요하면 즉시 스케일 아웃/인 행동을 취할 수도 있습니다.

Note: 일시 중지 중이라도 사용자가 수동으로 그룹 편집을 통해 원하는 용량을 변경하면 인스턴스 수가 조정될 수 있습니다. 그러나 자동 임계치에 의한 증감은 이루어지지 않습니다. 자동 스케일링을 장기간 중지해두면 예상치 못한 부하 변화에 대응하지 못할 수 있으므로, 필요한 경우에만 일시 중지를 사용하고 이후 반드시 재개하는 것을 권장합니다.

### 오토 스케일링 그룹 삭제

더 이상 필요 없는 오토 스케일링 그룹은 삭제할 수 있습니다. 삭제 전에는 해당 그룹이 관리 중인 인스턴스들을 어떻게 할지 고려해야 합니다. 그룹을 삭제하면 CloudiA가 그룹 내 모든 인스턴스를 종료하고 그룹 설정을 제거합니다.

삭제 방법: 오토 스케일링 그룹 목록에서 삭제하려는 그룹을 한 개 선택하고 상단의 삭제 버튼을 클릭합니다. 확인 대화상자에서 다시 한 번 삭제 여부를 묻는데, 여기서 확인을 하면 삭제 절차가 진행됩니다.

삭제 결과: 그룹 상태가 "삭제 중"으로 잠시 표시될 수 있으며, 백엔드에서 해당 그룹에 속한 모든 VM 인스턴스를 종료하고 관련 리소스를 정리합니다. 인스턴스가 모두 정리되면 그룹이 목록에서 사라집니다. (타겟 그룹을 생성했던 경우 해당 타겟 그룹도 함께 삭제됩니다.)

유의 사항: 오토 스케일링 그룹이 Load Balancer의 타겟 그룹과 연결되어 있는 경우 바로 삭제가 안 될 수 있습니다. 이때는 Load Balancer 설정에서 해당 타겟 그룹을 분리하거나 삭제한 후 다시 시도하십시오. 또한 오토 스케일링 그룹 삭제 시 그 안의 인스턴스들은 복구할 수 없이 종료되므로, 혹시 보존해야 할 인스턴스가 있다면 삭제 전에 미리 분리하거나 별도 백업을 받아두시기 바랍니다.

삭제가 완료되면 해당 그룹과 관련된 자동 스케일링 동작은 모두 중지됩니다. 더 이상 인스턴스가 자동 관리되지 않으므로, 필요하다면 새로운 오토 스케일링 그룹을 생성해 서비스를 이어서 관리할 수 있습니다. CloudiA의 오토 스케일링 그룹 기능을 통해 인프라 리소스를 유연하게 관리하시기 바라며, 위 가이드를 참고하여 효율적인 클라우드 자원 운용에 활용하시기 바랍니다.