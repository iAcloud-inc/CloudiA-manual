# 보안그룹
**보안그룹(Security Group)** 은 인스턴스 수준의 가상 방화벽 역할을 합니다.

## 보안그룹 목록
### 주요 작업
- `생성`: 새로운 보안그룹을 생성합니다.
- `편집`: 선택한 1개 보안그룹의 설정을 편집할 수 있습니다.
- `삭제`: 선택한 보안그룹들을 삭제합니다. (단, 연결된 인스턴스가 존재하지 않는 경우에만 삭제 가능합니다.)

> 💡 **참고:** VPC 생성 시 기본 보안그룹이 자동으로 생성됩니다. 해당 그룹은 기본적으로 모든 인바운드 트래픽 거부, 모든 아웃바운드 허용으로 설정됩니다.

### 테이블 컬럼
| 컬럼 | 설명 |
|------|------|
| **이름** | 보안그룹의 이름입니다. 클릭 시 상세 화면으로 이동합니다. |
| **VPC** | 보안그룹이 속한 VPC 입니다. |
| **인바운드 규칙 / 아웃바운드 규칙 수** | 보안그룹의 인바운드 규칙 수와 아웃바운드 규칙 수입니다. |
| **연결된 인스턴스 수** | 보안그룹과 연결된 인스턴스 수입니다. |
| **설명** | 보안그룹의 설명입니다. |
| **생성 일시** | 보안그룹이 생성된 날짜와 시간입니다. |

---

## 보안그룹 상세
### 상단 요약
- **이름**: 보안그룹의 이름입니다.
- **VPC**: 보안그룹이 속한 VPC 입니다.
- **인바운드 규칙 수**: 보안그룹의 인바운드 규칙 수입니다.
- **아웃바운드 규칙 수**: 보안그룹의 아웃바운드 규칙 수입니다.
- **연결된 인스턴스 수**: 보안그룹과 연결된 인스턴스 수입니다.
- **설명**: 보안그룹의 설명입니다.
- **생성 일시**: 보안그룹이 생성된 날짜와 시간입니다.

### 하단 탭

#### **인바운드 규칙**
보안그룹의 수신(Ingress) 트래픽 규칙 목록을 표시합니다.  
각 규칙은 타입(프로토콜), 소스(CIDR 또는 보안그룹), 포트 범위, 설명으로 구성되며, 모든 규칙은 허용 동작입니다.  
보안그룹은 **상태 저장(Stateful)** 방식으로 동작하며, 명시된 트래픽만 허용합니다.  

`편집` 버튼을 클릭하면 인바운드 규칙들을 수정할 수 있는 규칙 편집 화면으로 이동합니다. (규칙 편집 가이드는 아래 **[보안그룹 규칙 편집]** 항목 참고)

- **프로토콜**: 인바운드 프로토콜입니다. (예: TCP, UDP, ICMP, ALL)
- **IP/CIDR**: 인바운드 IP 주소 / CIDR 입니다.
- **포트**: 인바운드 포트로 단일 포트 또는 포트 범위가 표시됩니다.
- **설명**: 인바운드 규칙의 설명입니다.

#### **아웃바운드 규칙**
송신(Egress) 트래픽 규칙 목록입니다. 구성은 인바운드와 동일합니다.  
기본적으로 모든 아웃바운드 허용 규칙이 1개 존재합니다.

`편집` 버튼을 클릭하면 아웃바운드 규칙들을 수정할 수 있는 규칙 편집 화면으로 이동합니다.

- **프로토콜**: 아웃바운드 프로토콜입니다. (예: TCP, UDP, ICMP, ALL)
- **IP/CIDR**: 아웃바운드 IP 주소 / CIDR 입니다.
- **포트**: 아웃바운드 포트로 단일 포트 또는 포트 범위가 표시됩니다.
- **설명**: 아웃바운드 규칙의 설명입니다.

#### **연결된 인스턴스**
이 보안그룹이 적용된 인스턴스 목록을 보여줍니다.  
인스턴스 이름, ID, 상태 등이 표시됩니다.

> 💡 **참고:** 이 탭은 조회용이며, 인스턴스에 보안그룹을 추가/제거하는 작업은 인스턴스 편집 화면에서 수행합니다.

- **이름**: 연결된 인스턴스의 이름입니다.
- **ID**: 연결된 인스턴스의 ID 입니다.
- **IP**: 연결된 인스턴스의 IP 입니다.
- **상태**: 연결된 인스턴스의 상태입니다.
- **vCPU**: 연결된 인스턴스의 vCPU 입니다.
- **메모리**: 연결된 인스턴스의 메모리입니다.
- **생성 일시**: 인스턴스가 생성된 날짜와 시간입니다.

---

## 보안그룹 생성
### 1. 기본 정보
- **이름**: 보안그룹 이름을 입력합니다. 프로젝트 하위에서 중복될 경우 생성이 제한됩니다.
- **VPC**: 보안그룹이 속한 VPC 를 선택합니다.
- **설명**: 보안그룹에 대한 설명을 입력합니다.

> 💡 **참고:** 보안그룹 생성 시 기본 규칙은 인바운드 트래픽 거부, 아웃바운드 트래픽 허용으로 설정됩니다.  
> 생성 후 상세 화면에서 인바운드/아웃바운드 규칙을 추가하거나 수정할 수 있습니다.  
> 설명 입력은 필수이며, 이름은 프로젝트 하위에서 중복될 수 없습니다.

### 입력 필드 요약
| 필드 | 허용 값 | 검증 규칙 | 비고 |
|------|----------|------------|------|
| **이름** | 영문/숫자/하이픈(-)/언더스코어(_) | 최대 80자, 공백 불가 | **필수** |
| **VPC** | 현재 프로젝트의 VPC 중 1개 | 존재하는 VPC만 선택 가능 | **필수** |
| **설명** | 문자열 | 최대 200자 | **필수** |

---

## 보안그룹 편집
보안그룹의 이름과 설명을 변경할 수 있습니다.

| 컬럼 | 설명 |
|------|------|
| **이름** | 보안그룹의 이름을 변경할 수 있습니다. 프로젝트 하위에서 중복되면 편집이 제한됩니다. |
| **설명** | 보안그룹에 대한 설명을 용도에 맞게 변경할 수 있습니다. |

---

## 보안그룹 규칙 편집
보안그룹의 인바운드 또는 아웃바운드 규칙을 `추가`, `편집`, `삭제`할 수 있습니다.  
`규칙 추가` 버튼을 통해 새로운 규칙을 만들고, 기존 규칙을 수정할 수 있습니다.  
프로토콜(TCP, UDP, ICMP, ALL), 포트, 설명을 변경할 수 있으며 추가와 편집 항목은 동일합니다.

### 입력 필드 유효성
| 필드 | 허용 값 | 검증 규칙 | 비고 |
|------|----------|------------|------|
| **프로토콜** | TCP / UDP / ICMP / ALL | UI에서 지정된 값 중 하나 선택 | **필수** |
| **IP/CIDR** | IPv4 CIDR (예: 0.0.0.0/0) | 올바른 CIDR 형식 | **필수** |
| **포트** | 단일 번호 또는 범위 (예: 22, 80-8080) | 1–65535 값, 범위는 `-` 또는 `:` 가능 | **필수** |
| **설명** | 문자열 | 최대 200자 | 선택 |

> ⚠️ **편집 제한:** 변경 내역이 없거나 기존 규칙과 중복되는 경우 `편집`이 제한됩니다.  
> 규칙 중복 여부는 프로토콜 + IP/CIDR + 포트 조합으로 판단합니다.  
> 보안그룹 규칙은 최대 60개까지 설정할 수 있습니다.  
> 규칙 변경은 보안그룹 상세 화면에서 수행해야 합니다.

> 💡 **참고:** 보안그룹은 **상태 저장(Stateful)** 방식으로 동작합니다.  
> 인바운드에서 허용된 트래픽의 응답은 아웃바운드 규칙 없이 자동 허용됩니다.

---

## 보안그룹 삭제
삭제는 **하나씩 선택하여 실행**할 수 있습니다.  
삭제할 보안그룹을 선택하고 **삭제** 버튼을 누르면 확인 창이 나타나며, 확인 시 삭제됩니다.

### 주의사항
> 💡 **참고:** 인스턴스에서 해당 보안그룹을 사용 중인 경우 삭제가 제한됩니다.  
> 해당 보안그룹을 사용하는 모든 인스턴스를 해제해야 보안그룹을 삭제할 수 있습니다.
