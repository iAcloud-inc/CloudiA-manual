# 서브넷

## 서브넷 목록
프로젝트 내 모든 서브넷을 조회하고 관리할 수 있습니다.

### 주요 작업
- `생성`: 새로운 서브넷을 추가할 수 있습니다. (항상 활성화)
- `편집`: 선택한 1개 서브넷 설정을 편집할 수 있습니다.
- `삭제`: 선택한 서브넷들을 삭제합니다. 여러 서브넷을 동시에 선택해 삭제 요청할 수 있습니다.

### 테이블 컬럼

서브넷 목록은 다음과 같은 컬럼들로 구성됩니다:

| 컬럼                             | 설명                                                                                  |
| -------------------------------- | ------------------------------------------------------------------------------------- |
| **이름**                         | 서브넷의 표시 이름입니다. **클릭 시 상세 화면으로 이동**합니다.                      |
| **VPC**                          | 서브넷이 속한 가상 네트워크(VPC)의 이름입니다.                                       |
| **타입**                         | 서브넷 유형입니다. **퍼블릭 서브넷** 또는 **프라이빗 서브넷** 여부를 나타냅니다.     |
| **CIDR**                         | 서브넷의 IP 주소 범위입니다 (CIDR 표기).                                             |
| **기본 게이트웨이**              | 서브넷의 기본 게이트웨이 IP 주소입니다.                                              |
| **사용 IP 개수 / 전체 IP 개수**   | 현재 **사용 중인 IP 수**와 서브넷의 **전체 IP 수**를 표시합니다.                     |
| **설명**                         | 서브넷에 대한 관리자용 설명입니다.                                                    |
| **생성 일시**                    | 서브넷이 생성된 날짜와 시간입니다.                                                    |

> ⚠️ **주의:** 서브넷 **편집은 한 번에 하나씩만** 가능합니다. 여러 개 선택 시 **[편집]** 버튼이 비활성화됩니다.

---

## 서브넷 상세
서브넷의 **상세 화면**에서는 해당 서브넷의 모든 설정을 확인할 수 있습니다.  
상단 요약 영역에는 다음 정보가 표시됩니다 (괄호는 예시 값):

- **이름:** 서브넷 표시 이름 (예: `web-subnet-1`)
- **VPC:** 소속된 가상 네트워크 이름 (예: `vpc-prod`)
- **타입:** 서브넷 유형 (**퍼블릭 서브넷**, **프라이빗 서브넷**)
- **생성 일시:** 서브넷 생성 시간
- **CIDR:** 서브넷의 IP 주소 범위 (예: `10.0.1.0/24`)
- **설명:** 입력된 설명(있을 경우)
- **기본 게이트웨이:** 게이트웨이 IP (예: `10.0.1.1`)
- **DNS 서버:** 퍼블릭 서브넷의 DNS 서버 주소 (프라이빗 서브넷은 빈 값)
- **사용 IP 개수 / 전체 IP 개수:** 사용 중인 IP 수와 전체 IP 수 (예: `5 / 256`)
- **네트워크 접근 제어:** 적용된 네트워크 ACL 이름

> 💡 **참고:**  
> **퍼블릭 서브넷**은 외부 네트워크와 통신할 수 있으며, 플로팅 IP가 자동으로 할당돼 외부 접근이 가능합니다.  
> **프라이빗 서브넷**은 외부 통신이 제한되며 플로팅 IP를 사용할 수 없습니다.

---

## 서브넷 생성·편집

### 1. 기본 정보

- **이름:** 서브넷 이름 지정 (예: `web-subnet-1`)
- **VPC:** 서브넷이 포함될 **가상 네트워크(VPC)** 선택
- **CIDR:** IPv4 CIDR 입력 (예: `10.0.1.0/24`)
- **서브넷 유형:** **퍼블릭** 또는 **프라이빗** (기본값: 퍼블릭)
- **DNS 서버:** (옵션) 퍼블릭 서브넷일 때 입력 가능. 프라이빗 선택 시 비활성화됨.
- **설명:** (옵션) 설명 또는 메모 입력

#### 입력 필드 유효성

| 필드          | 허용 값 / 범위                       | 검증 규칙                                                                                      | 비고                               |
| ------------- | ------------------------------------- | ----------------------------------------------------------------------------------------------- | ---------------------------------- |
| **이름**      | 영문/숫자/`-`/`_`, 최대 **20자**      | 공백 및 기타 특수문자 불가                                                                      | **필수**, 프로젝트 내 중복 불가     |
| **VPC**       | 기존 생성된 VPC 중 선택               | 유효한 VPC 없으면 생성 불가                                                                      | **필수**                           |
| **CIDR**      | IPv4 CIDR (예: `10.0.x.0/24`)         | - 반드시 VPC 주소 범위의 하위 네트워크여야 함<br>- 프리픽스 **/16 ~ /28** 허용<br>- 중복 불가 | **필수**                           |
| **서브넷 유형** | 퍼블릭 / 프라이빗                 | 유형에 따라 DNS 입력 가능 여부 결정                                                             | 생성 후 **편집 가능**              |
| **DNS 서버**  | IPv4 주소 또는 미입력                 | 퍼블릭 서브넷일 때만 입력 가능                                                                  | 선택 사항                          |
| **설명**      | 최대 **200자**                       | 형식 제한 없음                                                                                  | 선택 사항                          |

> ⚠️ **주의:**  **서브넷 이름, VPC, CIDR, DNS 서버는 생성 후 변경할 수 없습니다.**  편집 모드에서는 **타입**과 **설명**만 수정 가능합니다.

---

## 서브넷 삭제
서브넷 삭제는 목록 화면에서 단일 또는 여러 항목을 선택하여 수행할 수 있으며, 삭제 전 다음 조건을 충족해야 합니다.

- 선택된 서브넷의 **모든 IP가 해제된 상태**여야 삭제할 수 있습니다.
- 사용 중인 IP가 하나라도 있으면 삭제되지 않고 경고 메시지가 표시됩니다.

> ⚠️ **주의:** 서브넷 삭제는 **복구할 수 없습니다.**  삭제 전 반드시 사용 여부를 확인하고 모든 IP를 해제하세요.

> 💡 **참고:**  삭제 불가능한 서브넷을 선택한 상태에서 삭제 버튼을 누르면  **“삭제 가능한 항목이 없습니다.”**라는 안내 메시지가 표시됩니다.
