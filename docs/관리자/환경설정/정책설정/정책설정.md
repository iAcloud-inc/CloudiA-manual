# 정책설정 사용자 가이드

CloudiA 콘솔의 **정책설정** 메뉴는 **비밀번호 정책**, **계정 잠금 정책**, **OTP 설정**, **세션 설정**을 관리합니다. 이 문서는 각 탭의 사용자 조작 단위로 필요한 항목만 정리합니다.

## 한눈에 보기
- **비밀번호 정책**: 길이/복잡도/재사용 금지 등 규칙을 정의합니다.
- **계정 잠금 정책**: 로그인 실패 누적 시 임시/영구 잠금 동작을 설정합니다.
- **OTP 설정**: TOTP 방식의 2차 인증을 전역 활성화/구성합니다.
- **세션 설정**: 유휴 시간 초과 시 자동 로그아웃 시간을 설정합니다.

---

## 비밀번호 정책

### 도구 모음과 주요 작업
- `편집` → `저장`: 정책 값 변경 후 저장하면 신규/변경 비밀번호부터 적용됩니다.

### 폼 항목(주요)
- **사용자 지정 비밀번호 정책**(토글): 켜면 아래 규칙을 강제합니다.
- **최소/최대 길이**, **대문자/소문자/숫자/특수문자 최소 개수**
- **비밀번호 히스토리 제한**(최근 N개 재사용 금지)
- **패턴 정책**(아이디 유사 문자열 등 내장 규칙)

> 💡 기존 비밀번호는 즉시 바뀌지 않으며, 다음 변경 시 새 정책을 따릅니다.

---

## 계정 잠금 정책

### 도구 모음과 주요 작업
- `편집` → `저장`: 모드/임계값/시간 설정 후 저장합니다.

### 폼 항목(주요)
- **모드**: `사용 안 함` / `영구 잠금` / `임시 잠금` / `임시 후 영구`
- **최대 로그인 실패 횟수**
- **임시 잠금 지속 시간(초)**, **대기 시간 증가량**, **최대 대기 시간**
- **임시 잠금 횟수(영구 전환 기준)**
- **리셋 시간(초)**: 마지막 실패 후 N초 경과 시 누적 실패 초기화

> ⚠️ 주의: 정책 저장 이후부터 로그인 실패가 임계값을 넘으면 자동으로 계정 잠금이 적용됩니다.

---

## OTP 설정

### 도구 모음과 주요 작업
- `편집` → `저장`: 전역 OTP 사용 여부와 파라미터를 설정합니다.

### 폼 항목(주요)
- **OTP 활성화**(토글)
- **해시 알고리즘**: `SHA1` / `SHA256` / `SHA512`
- **자릿수**: `6` 또는 `8`
- **허용 오차 창**: 시간 오차 허용 범위(단위: 타임스텝)
- **코드 재사용 허용**(권장: 해제)

> 💡 CloudiA는 TOTP(예: Google Authenticator) 기반 코드를 지원합니다.

---

## 세션 설정

### 도구 모음과 주요 작업
- `편집` → `저장`: 유휴 세션 타임아웃을 설정합니다.

### 폼 항목(주요)
- **자동 로그아웃 시간**: 값 + 단위(`초`/`분`)
- **유효성 안내**: 최소값/단위 조건을 위반하면 경고 메시지를 표시합니다.

> 💡 보안을 위해 지나치게 긴 무제한 세션 유지보다는 적정 타임아웃을 권장합니다.

---

## 입력 필드 유효성

| 구역 | 필드 | 허용 값/길이 | 검증 규칙(UI 기준) | 비고 |
|---|---|---|---|---|
| 비밀번호 정책 | 최소/최대 길이 | 8~20(권장) | 최소 ≤ 최대 | 필수 |
| 비밀번호 정책 | 문자 조합 | 0~N | 각 항목 1 이상이면 해당 문자군 필수 | 선택 |
| 잠금 정책 | 실패 임계값 | 1~10(예시) | 정수 | 필수 |
| 잠금 정책 | 임시 잠금(초) | 60~86400 | 정수 | 모드가 임시일 때 필수 |
| OTP | 자릿수 | 6 또는 8 | 정수 | 필수 |
| 세션 | 자동 로그아웃 | 1분 이상 | 단위 일치 검증 | 필수 |
