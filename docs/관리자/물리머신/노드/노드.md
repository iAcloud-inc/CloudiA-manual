# 노드
## 노드 관리

노드 메뉴에서는 CloudiA에 등록된 물리 머신을 관리합니다.  
노드 목록 화면에서 전체 노드 현황을 보고, 기존 노드 정보를 수정할 수 있습니다.  
물리 머신은 CloudiA 설치 단계에서만 추가 가능하며 추가/삭제 기능을 제공하지 않습니다.  
또한 각 노드의 상세 화면에 들어가면 해당 물리 머신의 상세 하드웨어 정보와 실시간 모니터링 정보, BMC 관리 기능을 활용할 수 있습니다.  
아래에서 노드 관리의 각 기능을 설명합니다.

---

## 노드 목록

노드 메뉴를 클릭하면 노드 목록 화면이 나타납니다.  
이 페이지에서는 현재 CloudiA에 등록된 모든 물리 머신 노드의 리스트와 주요 정보를 확인할 수 있습니다.  
주요 화면 구성과 기능은 다음과 같습니다:

- **노드 목록 테이블**: 각 행이 하나의 노드를 나타내며, 기본 컬럼에는 노드 이름, 에이전트 연결 상태, BMC 등록 여부, 전원 상태, 설명, 생성 일시가 표시됩니다.
- **노드 이름**: 노드를 식별하는 이름입니다. 이름을 클릭하면 해당 노드의 상세 페이지로 이동합니다.
- **에이전트 연결 상태**: Host Agent 연결 상태에 따라 “연결됨” 또는 “연결 끊김”으로 표시됩니다.
- **BMC**: 노드의 BMC(Baseboard Management Controller) 정보 등록 여부입니다.
- **전원 상태**: 현재 물리 머신의 전원 상태를 나타냅니다. 켜짐(On) / **꺼짐(Off)** 으로 표시됩니다.
- **설명**: 노드에 대한 관리용 설명이나 메모가 나타납니다.
- **생성 일시**: 해당 노드가 CloudiA에 등록된 날짜와 시간입니다.

### 노드 선택 및 작업

목록에서 하나 이상의 노드를 선택할 수 있으며, 상단 버튼을 통해 다양한 작업을 수행할 수 있습니다.  
버튼에는 **편집 버튼**이 제공됩니다.

- **노드 편집**: 노드 하나를 선택한 경우 “편집” 버튼이 활성화됩니다. 클릭 시 해당 노드의 정보 수정 화면으로 이동합니다.
- **전원 제어**: BMC 정보가 등록된 노드의 경우, 전원 켜기/끄기 버튼이 활성화됩니다.

| 기능 | 설명 |
|------|------|
| **전원 켜기** | 선택한 물리 머신을 원격으로 부팅합니다. BMC를 통해 전원 On 명령을 전송합니다. |
| **전원 끄기** | 선택한 물리 머신을 원격으로 종료합니다. 모든 VM과 서비스가 중단되므로 주의가 필요합니다. |

> ⚠️ **주의:** 전원 관리 기능은 BMC 정보가 등록된 노드에서만 사용할 수 있습니다.

---

## 노드 편집

노드 편집 화면에서는 기존에 등록된 노드의 이름이나 설명을 수정할 수 있습니다.

- **기본 정보 입력**:  
  - **이름**: 필수 항목이며 최대 20자까지 입력 가능 (영문/숫자).  
  - **설명**: 선택 항목으로 200자 이내 메모 작성 가능.  
- **취소 및 저장 버튼**  
  - **취소**: 입력한 내용을 버리고 목록으로 이동.  
  - **저장**: 변경 사항을 저장하고 목록으로 복귀.  

저장 성공 시 화면 상단에 “노드 생성이 완료되었습니다.” 또는 “노드 편집이 완료되었습니다.” 메시지가 표시됩니다.  

> 참고: Host Agent 연결이 정상인 노드는 CPU·메모리 사용률 등 상세 데이터를 수집할 수 있습니다.

---

## 노드 상세

노드 목록에서 특정 노드를 클릭하면 노드 상세 화면으로 이동합니다.  
이 페이지에서는 선택한 노드의 상세 하드웨어 스펙, 모니터링 정보, BMC 기능을 볼 수 있습니다.  
여러 개의 탭으로 구성되어 있습니다.

---

### 기본 정보 및 BMC 설정

- **노드 이름 및 ID**: 시스템에서 부여한 고유 식별자(ID)와 함께 표시됩니다.  
- **에이전트 연결 상태**: “연결됨” 또는 “연결 끊김”.  
- **BMC 정보**: IP, 계정(사용자), 패스워드(마스킹) 표시.  
- **BMC 등록/삭제 버튼**: 등록되지 않은 경우 “등록”, 등록된 경우 “삭제” 버튼 표시.  
- **전원 상태**: 켜짐/꺼짐 (BMC 기반 정보).  
- **설명 및 생성 일시**: 노드 등록 시 입력된 설명과 등록 시간 표시.

> 💡 **참고:** BMC 등록 시 전원 상태, 섀시 정보, 시스템 이벤트 로그, 센서 모니터링 기능이 활성화됩니다.

---

### 네트워크 인터페이스

해당 노드의 네트워크 어댑터 목록을 표로 표시합니다.

| 항목 | 설명 |
|------|------|
| 이름 | 네트워크 인터페이스 이름 (예: eth0) |
| IP/CIDR | IP 주소 및 서브넷 (예: 192.168.0.10/24) |
| MAC 주소 | 네트워크 인터페이스의 MAC Address |
| 유형 | 물리 / 브리지 등 |
| 사용 목적 | 내부망 / 관리망 / 외부망 |
| 게이트웨이 | 게이트웨이 IP 주소 |
| DNS | DNS 서버 주소 |

---

### CPU 정보

| 항목 | 설명 |
|------|------|
| 모델 | CPU 모델 이름 |
| 제조사 | CPU 제조사 |
| 클럭 속도 | 기본 클럭 속도 (MHz) |
| 아키텍처 | CPU 아키텍처 (x86_64 등) |
| 논리 CPU 수 | 전체 논리 코어 수 |
| 코어당 스레드 수 | 하이퍼스레딩 등 스레드 개수 |
| 소켓당 코어 수 | 하나의 소켓 내 코어 개수 |
| 캐시 | L1, L2, L3 캐시 크기 |
| CPU 패밀리 | 패밀리 넘버 |
| 최소/최대 클럭 | CPU의 가변 클럭 주파수 |
| 소켓 수 | 물리 CPU 소켓 개수 |
| 가상화 지원 | VT-x, AMD-V 지원 여부 |

---

### 메모리 정보

#### 메모리 정보
- **총량**: 장착된 전체 메모리 용량  
- **사용 중**: 현재 사용량  
- **사용률**: 퍼센트(%) 표시  
- **잔여량**: 남은 메모리  
- **캐시/버퍼/공유 메모리량**: 각각의 세부 용도별 메모리 표시  

#### 스왑 메모리 정보
- **총량 / 사용량 / 사용률 / 잔여량** 모두 퍼센트 및 용량 단위로 표시됩니다.

---

### 하드웨어

| 항목 | 설명 |
|------|------|
| 이름 | 하드웨어 장치 이름 |
| 유형 | 장치 종류 |
| 설명 | 장치 설명 |
| 제품명 | 모델명 |
| 공급업체 | 제조사 |
| 시리얼 | 일련번호 |
| 주소 | PCI 버스 주소 등 |

---

### 모니터링

노드의 주요 자원 사용 지표를 시간 경과에 따라 그래프로 표시합니다.

- **기간 선택**: 캘린더로 조회 기간 선택 가능  
- **CSV 다운로드**: CPU/메모리/네트워크/디스크 I/O 데이터 다운로드 가능  

#### 그래프 목록
- CPU 사용률  
- 메모리 사용률  
- 네트워크 입출력 (Rx/Tx)  
- 디스크 읽기/쓰기 속도  

자동 갱신 기능을 통해 최신 데이터로 실시간 업데이트됩니다.

---

### 로그

노드의 시스템 로그를 확인할 수 있는 탭입니다.

- **최근 1시간 로그 표시**  
- **자동 새로고침**: 수동 또는 자동 갱신 가능  
- **CSV 다운로드**: 기간 지정 후 로그 다운로드 가능  

| 컬럼 | 설명 |
|------|------|
| 출처(Source) | 로그 발생 시스템 컴포넌트 |
| Unit | 모듈명 (systemd 단위 등) |
| PID | 프로세스 ID |
| Level | 로그 수준 (INFO/WARN/ERROR) |
| 메시지 | 로그 내용 요약 |
| 발생 시간 | 로그 생성 시각 |

> 💡 과거 로그는 CSV 다운로드로 확인할 수 있습니다.

---

### 섀시 (Chassis) 정보

BMC 등록 노드에서만 활성화됩니다.

| 항목 | 설명 |
|------|------|
| 섀시 유형 | 랙 서버 / 타워 / 블레이드 등 |
| 제조사 및 제품명 | 섀시 제조업체 및 모델 |
| 시리얼 번호 | 고유 일련번호 |
| 섀시 침입 여부 | 침입 감지 센서 상태 |
| 전면 패널 잠금 | 잠금/해제 여부 |
| 기타 상태 | 팬 상태, 온도 등 |

> ⚙️ BMC가 없는 경우, 일부 항목은 비활성화되거나 “-”로 표시됩니다.

---

### 시스템 이벤트 로그 (SEL)

BMC가 있는 경우 활성화됩니다.

- **이벤트 리스트**: 시간, 센서 이름, 이벤트 설명 표시  
- **이벤트 세부 정보**: 클릭 시 RAW 데이터나 센서 ID 확인 가능  
- **CSV 다운로드**: 전체 SEL 로그 내보내기 가능  

> 예시: `2025-10-01 14:22:35 - Temperature - Upper Critical going high`

---

### 센서 목록

BMC 등록 시 활성화되며, 서버의 전압, 온도, 팬 속도 등의 실시간 정보를 제공합니다.

| 항목 | 설명 |
|------|------|
| 센서 이름 | 예: CPU1 온도, Fan2 |
| 센서 유형 | 온도 / 전압 / 팬속도 / 전류 등 |
| 현재 측정값 | 실시간 수치 (단위 포함) |
| 정상 범위 | 임계 범위 초과 여부 표시 |
| 최소/최대값 | 센서의 설계상 범위 |

> ⚠️ 비정상 센서값은 경고 색상 또는 “임계 초과”로 표시됩니다.

---

### 센서 모니터링

센서 값의 시간별 추이를 시각화한 그래프 탭입니다.

- **기간 선택**: 조회할 시간 범위 지정  
- **CSV 다운로드**: 센서별 데이터 다운로드 가능  
- **센서별 그래프 제공**:  
  - 온도 (°C)  
  - 팬 속도 (RPM)  
  - 전류 (A)  
  - 전압 (V)

마우스 오버 시 툴팁으로 특정 시각의 값을 확인할 수 있으며, 범례를 통해 특정 센서를 숨기거나 표시할 수 있습니다.

