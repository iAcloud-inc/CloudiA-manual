
# 노드 그룹 관리

CloudiA의 **노드 그룹** 기능을 통해 물리 머신들을 그룹으로 묶어 관리할 수 있습니다. 

---

## 노드 그룹 목록

**노드 그룹 목록** 화면에서는 정의된 모든 노드 그룹을 조회하고 관리 작업을 수행할 수 있습니다. 

### 주요 작업

* **[생성]** – 새로운 노드 그룹을 생성합니다. 버튼을 클릭하면 **노드 그룹 생성** 화면으로 이동하여 그룹 정보를 입력합니다.
* **[편집]** – 선택한 노드 그룹의 정보를 수정합니다. 그룹을 한 개 선택했을 때 활성화되며, 클릭 시 **노드 그룹 편집** 화면으로 이동합니다. (그룹의 이름, 유형, 설명을 변경)
* **[삭제]** – 선택한 노드 그룹을 삭제합니다. 그룹을 선택하면 활성화되며, 클릭 시 확인 메시지 후 그룹이 삭제됩니다.

> ⚙️ **참고 기능:** 노드 그룹을 삭제하더라도 **해당 그룹에 속한 노드들은 삭제되지 않고 그대로 남아있게 되며**, 단지 그룹에서만 제외됩니다. 노드 그룹 삭제는 그룹 단위 관리 목적의 묶음만 제거하는 동작입니다.

### 테이블 컬럼

노드 그룹 목록은 아래 컬럼들로 구성된 표로 표시됩니다:

| 컬럼        | 설명                                                                                    |
| --------- | ------------------------------------------------------------------------------------- |
| **이름**    | 노드 그룹의 이름입니다. 클릭하면 해당 그룹의 **상세 화면**으로 이동합니다.                                          |
| **노드 개수** | 그룹에 속한 노드의 개수입니다.                                                                     |
| **유형**    | 노드 그룹의 종류를 나타냅니다. 현재 CloudiA에서는 **“사용자”** 그룹만 생성할 수 있으며 사용자 정의 그룹은 “user” 유형으로 표시됩니다. |
| **설명**    | 그룹에 대한 설명입니다. (그룹 생성 시 입력한 메모)                                                        |
| **생성일시**  | 노드 그룹이 생성된 날짜와 시간입니다.                                                                 |

## 노드 그룹 상세

노드 그룹 상세 화면에서는 해당 그룹의 정보와 그룹에 속한 노드들을 확인할 수 있습니다. 상단에는 그룹의 **기본 정보 요약**이, 하단에는 그룹 **멤버 노드 목록**이 제공됩니다.

### 상단 요약 정보

선택된 노드 그룹의 주요 정보를 다음과 같이 표시합니다:

| 항목        | 설명                                                                |
| --------- | ----------------------------------------------------------------- |
| **이름**    | 노드 그룹의 이름입니다.                                                     |
| **노드 개수** | 현재 이 그룹에 속한 노드의 개수입니다.                                            |
| **유형**    | 그룹의 유형입니다. “사용자” 그룹인지 시스템 그룹인지 등을 나타내며, 현재는 **사용자 정의 그룹**만 존재합니다. |
| **설명**    | 그룹에 대한 설명 문구입니다.                                                  |
| **생성일시**  | 그룹이 생성된 일시입니다.                                                    |

### 그룹 내 노드 목록 및 맴버 관리

그룹에 포함된 **노드 목록**이 하단에 표시됩니다. 이 표에서는 해당 그룹에 속한 각 노드의 **이름**, **ID**, **설명**, **생성일시**를 확인할 수 있습니다. 노드 이름은 링크 형태로 제공되지는 않으며(노드 상세 화면으로 직접 이동 불가), 목록은 읽기 전용으로 그룹 구성원 현황을 보여줍니다.

그룹 멤버 관리 작업을 위해 노드 목록 상단에는 **[편집]** 버튼이 제공됩니다. **[편집]** 버튼을 누르면 **노드 그룹 멤버 편집** 화면으로 전환되어, 해당 그룹의 구성원을 변경할 수 있습니다.

#### 멤버 편집

노드 그룹 멤버 편집 화면에서는 현재 그룹에 포함된 노드들을 관리할 수 있습니다. 기존 멤버 목록이 표로 표시되며, 사용자는 다음 작업을 수행할 수 있습니다:

* **노드 추가:** 상단의 **[추가]** 버튼을 클릭하면 **노드 선택** 창이 열립니다. 이 창에서 현재 CloudiA에 등록된 모든 물리 머신 목록이 표시되며, 이 중 그룹에 새로 추가하고자 하는 노드를 선택할 수 있습니다. 원하는 노드를 체크한 뒤 **[추가]** 버튼을 누르면 선택된 노드들이 그룹 멤버 목록에 포함됩니다. 이미 그룹에 속한 노드는 목록에 표시되어 있으므로 중복으로 선택되지 않습니다.
* **노드 제거:** 멤버 목록에서 그룹에서 제외하려는 노드를 선택한 후 **[삭제]** 버튼을 클릭하면 선택된 노드들이 그룹에서 제거됩니다. (목록에서 삭제될 뿐, 해당 노드 자체가 삭제되는 것은 아닙니다.)

멤버 추가/삭제 작업을 완료한 후 하단의 **[저장]** 버튼을 누르면 그룹 구성원 변경 내용이 저장되고 그룹 상세 화면으로 돌아갑니다. **[취소]** 버튼을 누르면 변경 사항 없이 그룹 상세 화면으로 돌아갑니다.

> 💡 **참고:** 노드 그룹 편집 화면(이름/설명/유형 변경)에서는 **그룹 멤버 구성은 수정하지 않습니다**. 노드 그룹의 구성원은 반드시 **그룹 상세 화면의 [편집] 기능**을 통해서만 추가하거나 제거할 수 있습니다. 또한 하나의 노드는 **여러 그룹에 중복으로 포함**될 수도 있습니다. 이를 활용해 물리 머신들을 다양한 기준으로 묶어 관리할 수 있습니다.

## 노드 그룹 생성

노드 그룹 생성 시에는 그룹의 기본 정보를 입력하고, 그룹에 포함할 노드를 바로 지정할 수 있습니다.

### 1. 기본 정보 입력

* **이름:** 노드 그룹의 이름을 지정합니다 (필수). 다른 그룹과 중복되지 않도록 설정합니다.
* **유형:** 그룹의 유형을 선택합니다 (필수). 현재는 **“사용자”** 그룹만 선택 가능합니다. *(시스템에서 자동 생성되는 그룹은 UI에서 생성할 수 없습니다.)*
* **설명:** 그룹에 대한 부가 설명이나 메모를 입력합니다 (선택).

### 2. 노드 추가

* 하단의 **물리 머신** 목록에서 [추가] 버튼을 클릭하여 그룹에 포함할 노드를 선택할 수 있습니다.
* 원하는 노드를 선택 후 [추가] 버튼을 누르면 노드가 목록에 추가됩니다.
* 이미 포함된 노드는 중복으로 선택되지 않으며, 목록에서 제거하려면 [삭제] 버튼을 사용합니다.

> ⚙️ **주의:** 그룹에 포함된 노드는 한 번에 최대 5개까지 표시되며, 여러 노드를 추가한 경우 페이지를 넘겨가며 확인합니다.

### 유효성 검증 규칙

| 필드     | 허용 값 및 길이            | 검증 규칙                           | 비고            |
| ------ | -------------------- | ------------------------------- | ------------- |
| **이름** | 영문자, 숫자 조합<br>최대 20자 | 첫 글자는 숫자 불가<br>영문 대소문자 및 숫자만 사용 | 필수 입력, 유일해야 함 |
| **유형** | 고정 값 “사용자”           | 선택 옵션 이외 입력 불가                  | 필수 입력         |
| **설명** | 모든 문자<br>최대 200자     | 특별한 제약 없음                       | 선택 입력         |

## 노드 그룹 편집

기존 노드 그룹 편집 시에는 그룹의 이름, 유형, 설명만 수정할 수 있으며, 그룹 멤버는 수정할 수 없습니다. 구성원 변경은 노드 그룹 상세 > 편집 기능을 통해 수행합니다.

### 편집 절차

* 기존 정보가 입력된 상태로 화면이 표시되며, 사용자는 필요한 항목만 수정합니다.
* 편집 가능 항목: **이름**, **유형**, **설명**
* **노드 추가/제거는 불가능**하며, 관련 섹션은 비활성화되어 표시되지 않습니다.

### 유효성 검증 규칙

| 필드     | 허용 값 및 길이            | 검증 규칙                           | 비고            |
| ------ | -------------------- | ------------------------------- | ------------- |
| **이름** | 영문자, 숫자 조합<br>최대 20자 | 첫 글자는 숫자 불가<br>영문 대소문자 및 숫자만 사용 | 필수 입력, 유일해야 함 |
| **유형** | 고정 값 “사용자”           | 선택 옵션 이외 입력 불가                  | 필수 입력         |
| **설명** | 모든 문자<br>최대 200자     | 특별한 제약 없음                       | 선택 입력         |

변경 사항을 모두 입력한 후 [저장] 버튼을 클릭해야 적용되며, [취소] 버튼을 누르면 변경 사항 없이 목록 화면으로 돌아갑니다.

## 노드 그룹 삭제

노드 그룹 삭제는 그룹 목록에서 원하는 그룹을 선택한 뒤 [삭제] 버튼을 클릭하여 진행합니다.

### 삭제 조건 및 절차

* 노드 그룹은 **하나씩만 선택 가능**하며, 선택된 그룹에 대해서만 삭제 버튼이 활성화됩니다.
* [삭제] 버튼 클릭 시 **확인 메시지 창**이 표시되며, 사용자가 확인을 누르면 해당 그룹이 삭제됩니다.
* 삭제된 그룹에 속해 있던 노드들은 그대로 유지되며, 다른 그룹에 영향을 주지 않습니다.
