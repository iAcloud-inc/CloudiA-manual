# 노드

**노드(Node)** 메뉴에서는 CloudiA에 등록된 **물리 머신**을 관리합니다.  
CloudiA에서는 물리 머신을 초기 설치 단계에서만 추가할 수 있으며, 설치 완료 후에는 노드를 직접 추가하거나 삭제하는 기능을 제공하지 않습니다.
추가 노드가 필요한 경우에는 아이에이클라우드 영업팀에 문의하시기 바랍니다.
노드 추가를 위해서는 별도의 라이선스 구매 및 기술팀의 설치 지원 절차가 필요합니다.

노드 상세 화면에서는 해당 물리 서버의 **하드웨어 사양**, **모니터링 지표**, **BMC(Baseboard Management Controller)** 관리 기능 등을 확인할 수 있습니다.

---

## 노드 목록

**노드 목록** 페이지에서는 현재 CloudiA에 등록된 모든 물리 머신의 리스트와 주요 정보를 한눈에 볼 수 있습니다.  

### 주요 작업

노드 목록 상단의 도구 모음에서는 사용자가 선택한 노드에 대해 다음과 같은 작업을 수행할 수 있습니다.

- **`편집`**: 노드를 **한 개만 선택**한 경우 활성화됩니다. 클릭 시 선택된 노드의 정보 편집 화면으로 이동합니다.  
- **`전원 켜기`**: 선택한 노드에 BMC 정보가 등록된 경우 활성화됩니다. BMC를 통해 **원격 부팅** 명령을 전송합니다.  
- **`전원 끄기`**: 선택한 노드에 BMC 정보가 등록된 경우 활성화됩니다. BMC를 통해 **원격 종료** 명령을 전송합니다.  
  이 작업을 수행하면 해당 노드의 모든 VM과 서비스가 중단되므로 주의가 필요합니다.  

### 테이블 컬럼

| 컬럼 | 설명 |
|------|------|
| **이름** | 노드를 식별하는 이름입니다. 클릭 시 해당 노드의 상세 화면으로 이동합니다. |
| **Agent 연결 상태** | Host Agent 연결 상태를 표시합니다. “연결” 또는 “해제”로 표시됩니다. |
| **BMC** | 노드의 BMC 정보 등록 여부를 표시합니다. |
| **전원** | 현재 물리 머신의 전원 상태입니다. “켜짐” 또는 “꺼짐”으로 표시됩니다. |
| **설명** | 관리자가 입력한 노드에 대한 설명이나 메모입니다. |
| **생성 일시** | 노드가 CloudiA에 등록된 날짜와 시간입니다. |

---

## 전원 관리

물리 머신의 전원 상태를 원격으로 제어합니다. 전원 제어는 **BMC 정보가 등록된 노드**에서만 사용할 수 있습니다.

| 작업 | 설명 | 활성화 조건 |
|-----|-----|-------------|
| **`전원 켜기`** | 선택한 노드의 전원을 원격으로 켭니다. | BMC 등록, 현재 전원 상태가 `꺼짐` |
| **`전원 끄기`** | 선택한 노드의 전원을 원격으로 끕니다. | BMC 등록, 현재 전원 상태가 `켜짐` |
>💡 **참고:** BMC가 등록되지 않은 물리 머신은 전원 상태가 '-'로 표시됩니다.


### 사용 절차
1. 대상 노드를 선택합니다.
2. 전원 상태를 확인합니다. (`켜짐` / `꺼짐`)  
3. `전원 켜기` 또는 `전원 끄기` 버튼을 클릭하고 확인 대화상자에서 동작을 승인합니다.  
4. 전원 상태가 반영될 때까지 잠시 대기한 후, 전원 상태가 업데이트 됩니다.

### 주의사항
- ⚠️ **주의:** 전원 관리 기능은 **BMC 정보가 등록된 노드**에서만 사용할 수 있으며, BMC 정보가 없거나 인증 정보가 올바르지 않으면 전원 제어 버튼이 비활성화되거나 실패할 수 있습니다. 
- ⚠️ **서비스 중단**: `전원 끄기`를 수행하면 해당 호스트의 **모든 VM과 서비스가 즉시 중단**됩니다. 작업 전 반드시 안전한 종료 절차를 확인합니다.  
 
---

## 노드 편집

**노드 편집** 화면에서는 기존 노드의 이름과 설명을 수정할 수 있습니다.  
노드를 하나 선택 후 `편집` 버튼을 클릭하면 진입할 수 있습니다.

- **이름**: 필수 입력 항목이며, 최대 20자까지 입력 가능합니다. (영문·숫자만 허용)  
- **설명**: 선택 입력 항목으로 최대 200자까지 작성 가능합니다.  
- **저장/취소 버튼**: 
  - `저장`: 변경 내용을 저장 후 목록으로 복귀합니다.
  - `취소`: 입력값을 저장하지 않고 목록으로 복귀합니다.

### 입력 필드 유효성 검증

| 필드 | 허용 값 및 길이 | 검증 규칙 | 비고 |
|------|------------------|------------|------|
| **이름** | 영문 대소문자, 숫자 / 최대 20자 | 공백 불가, 영문·숫자 이외 문자 입력 불가 | 필수 입력 |
| **설명** | 모든 문자 / 최대 200자 | 형식 제한 없음 | 선택 입력 |

---

## 노드 상세

**노드 상세** 페이지에서는 선택한 물리 머신의 상세 정보를 확인할 수 있습니다.  
상단에는 기본 정보 및 BMC 설정 상태가 요약되어 표시되며, 하단에는 여러 **탭** 형태로 세부 정보가 구성되어 있습니다.  
Host Agent 연결이 정상인 노드의 경우 CPU·메모리 사용률 등 실시간 모니터링 데이터가 표시됩니다.

### 기본 정보 및 BMC 설정

- **이름 및 ID**: 노드의 표시 이름과 시스템 고유 ID가 표시됩니다.  
- **Agent 연결 상태**: Host Agent 연결 상태를 표시합니다.  
- **BMC**: 등록된 BMC의 IP, 계정(사용자), 마스킹된 패스워드를 표시합니다.  
- **BMC 등록/삭제**: 등록되지 않은 경우 `등록`, 등록된 경우 `삭제` 버튼이 표시됩니다.  
- **전원**: 물리 머신의 전원 상태를 표시합니다. (켜짐/꺼짐)  
- **설명 및 생성 일시**: 노드 등록 시 입력한 설명과 등록 시각을 표시합니다.  

> 💡 **참고:** BMC 등록 시 전원 제어, 섀시 정보, 시스템 이벤트 로그, 센서 모니터링 기능이 활성화됩니다.

---

### BMC 등록

#### 1. 등록 위치
- **노드 상세 화면 상단**의 BMC `등록` 버튼을 클릭합니다.  
  (이미 등록된 경우 버튼이 `삭제`로 표시됩니다.)

#### 2. 입력 항목

| 필드 | 설명 | 입력 형식 | 비고 |
|------|------|-----------|------|
| **IP 주소** | BMC 접근용 IP 주소 | IPv4 형식 | 필수 입력 |
| **사용자 이름** | BMC 로그인 계정명 | 영문/숫자 조합 | 필수 입력 |
| **비밀번호** | BMC 로그인 비밀번호 | 8~32자 | 필수 입력 |

- BMC 등록 시, BMC 접근용 IP 주소를 통한 등록 가능 여부 확인 절차가 필요합니다.
> 💡 **참고:** BMC 등록 시, 입력한 비밀번호는 화면에서 마스킹 처리되며 이후 조회 시 표시되지 않습니다.

#### 3. 등록 확인
- 입력 완료 후 `저장` 버튼을 클릭하면 등록이 완료됩니다.  
- 등록이 완료되면 상단 요약 정보에 BMC IP와 계정명이 표시됩니다.

#### 4. BMC 삭제
- 이미 등록된 BMC 정보는 `삭제` 버튼으로 제거할 수 있습니다.  
- 삭제 시 BMC 기반 기능(전원 관리, 섀시, 센서, 시스템 이번트 로그)은 비활성화됩니다.

---

### 네트워크 인터페이스

네트워크 인퍼페이스 탭에서는 노드의 네트워크 인터페이스 목록을 표시합니다.  
각 인터페이스의 이름, IP, MAC 주소, 유형, 게이트웨이 등을 확인할 수 있습니다.

| 컬럼 | 설명 |
|------|------|
| **이름** | 네트워크 인터페이스 이름 (예: eth0) |
| **IP/CIDR** | IP 주소 및 서브넷 (예: 192.168.0.10/24) |
| **MAC 주소** | 네트워크 인터페이스의 MAC 주소 |
| **타입** | 물리 / 브리지 등 인터페이스 유형 |
| **용도** | 내부망 / 관리망 / 외부망 |
| **게이트웨이** | 인터페이스의 게이트웨이 IP 주소 |
| **DNS** | DNS 서버 주소 |

---

### CPU

CPU 탭에서는 노드의 CPU 하드웨어 사양 및 구성을 표시합니다.  
모델, 제조사, 클럭 속도, 코어·스레드 수, 가상화 지원 여부 등을 제공합니다.

| 항목 | 설명 |
|------|------|
| **모델** | CPU 모델 이름 |
| **제조사** | CPU 제조사 |
| **클럭 기본 속도** | 기본 클럭 속도 (GHz) |
| **아키텍처** | CPU 아키텍처 (예: x86_64) |
| **전체 논리 CPU 수** | 전체 논리 CPU 수 |
| **코어당 스레드 수** | 코어 하나당 스레드 수 |
| **소켓당 코어 수** | 소켓 내 코어 개수 |
| **L1l, L2, L3 캐시** | L1l, L2, L3 캐시 크기 |
| **패밀리** | CPU 패밀리 이름 |
| **최소/최대 클럭 속도** | CPU의 가변 클럭 주파수 |
| **소켓 수** | 물리 CPU 소켓 개수 |
| **가상화** | VT-x, AMD-V 지원 여부 |

---

### 메모리 정보

물리 메모리 및 스왑 메모리 사용 현황을 실시간으로 표시합니다.

| 구분 | 항목 | 설명 |
|------|------|------|
| **메모리 정보** | 총량 | 장착된 전체 메모리 용량 |
|  | 사용 중인 메모리량 | 현재 사용량 |
|  | 사용률 | 퍼센트(%)로 표시 |
|  | 잔여량 | 남은 메모리 용량 |
|  | 캐시/버퍼/공유 메모리량 | 세부 용도별 메모리 |
| **스왑 메모리 정보** | 총량 | 할당된 스왑 영역 크기 |
|  | 사용량 | 사용 중인 스왑 용량 |
|  | 사용률 | 스왑 사용 비율(%) |
|  | 잔여량 | 남은 스왑 용량 |

---

### 하드웨어

하드웨어 탭에서는 노드에 장착된 하드웨어 장치 목록을 표시합니다.  
디스크, 네트워크 카드, 추가 카드 등의 구성 정보를 제공합니다.

| 컬럼 | 설명 |
|------|------|
| **이름** | 하드웨어 장치 이름 |
| **타입** | 장치 유형 (디스크, NIC 등) |
| **설명** | 장치 설명 |
| **제품명** | 장치 모델명 |
| **공급업체** | 제조사 |
| **시리얼** | 일련번호 |
| **주소** | PCI 버스 주소 등 장치 식별자 |

---

### 모니터링

모니터링 탭에서는 노드의 주요 자원 사용 지표를 그래프로 시각화합니다.  
**CPU**, **메모리**, **네트워크**, **디스크** 사용률을 시간 경과에 따라 표시하며,  
기간 선택과 CSV 다운로드 기능을 통해 데이터 저장이 가능합니다.

- **CPU 사용률 그래프**  
- **메모리 사용률 그래프**
- **디스크 읽기/쓰기** 
- **네트워크 사용률 (Input/Output)**   

---

### 로그

로그 탭에서는 노드에서 발생한 시스템 로그를 실시간으로 확인할 수 있습니다.
이 로그에는 운영 체제와 서비스에서 기록하는 시스템 이벤트, 오류, 경고 메시지 등이 포함되어 있어, 노드의 상태를 점검하거나 문제를 진단할 때 활용할 수 있습니다.
최근 1시간 로그가 실시간으로 표시되며, 기간 지정 후 CSV 다운로드가 가능합니다.

| 컬럼 | 설명 |
|------|------|
| **로그 소스** | 로그 발생 소스 |
| **유닛명** | 로그 유닛명 |
| **프로세스 ID** | PID |
| **로그 수준** | 로그 수준 |
| **메시지** | 로그 메시지 |
| **생성 일시** | 로그 발생 시각 |

> 💡 **참고:** 1시간 이전 로그는 CSV 다운로드를 통해 확인할 수 있습니다.

---

### 섀시

**BMC가 등록된 노드에서만 활성화**됩니다.
섀시 탭에서는 서버 섀시(Chassis)에 대한 하드웨어 및 보안 상태를 표시합니다.

| 항목           | 설명                                                     |
| ------------ | ------------------------------------------------------ |
| **전원**       | 현재 서버의 전원 상태를 표시합니다.|
| **전원 과부하**   | 전원 공급 장치(PSU)의 부하 상태를 나타냅니다.|
| **상호 잠금**    | 섀시의 상호 잠금 기능 상태를 표시합니다.|
| **전원 장애**    | 전원 공급 이상 여부를 표시합니다.|
| **전원 제어 오류** | 전원 제어 관련 오류 발생 여부를 표시합니다.|
| **전원 복구 정책** | 전원 복구 시 동작 정책을 표시합니다.|
| **섀시 침입**    | 물리적 침입 감지 센서의 상태를 표시합니다.|
| **전면 패널 잠금** | 서버 전면 패널의 잠금 상태를 표시합니다.|
| **드라이브 오류**  | 스토리지 드라이브 관련 오류 여부를 표시합니다.|
| **냉각 장치 오류** | 팬 또는 냉각 장치의 오류 상태를 표시합니다.|

---

### 시스템 이벤트 로그

**BMC가 등록된 노드에서만 활성화**됩니다.  
시스템 이벤트 로그(SEL) 탭에서는 하드웨어 수준의 시스템 이벤트 로그를 제공합니다.

| 컬럼                  | 설명                                       |
| ------------------- | ---------------------------------------- |
| **발생일시**            | 이벤트가 발생한 날짜와 시각을 표시합니다.                  |
| **센서 유형**           | 이벤트를 감지한 센서의 종류를 표시합니다.|
| **이벤트 타입**          | 이벤트의 분류를 나타냅니다.|
| **이벤트**             | 발생한 이벤트의 이름 또는 코드가 표시됩니다.                |
| **이벤트 Description** | 이벤트의 상세 설명 또는 원인을 표시합니다.                 |

- **CSV 다운로드**: 전체 SEL 로그 내보내기 지원  

---

### 센서

**BMC가 등록된 노드에서만 활성화**됩니다.  
센서 탭에서는 온도, 전압, 팬 속도 등 하드웨어 센서의 실시간 상태를 표시합니다.

| 컬럼            | 설명                               |
| ------------- | -------------------------------- |
| **센서 이름**     | 센서의 이름을 표시합니다.                   |
| **센서 유형**     | 센서의 종류를 표시합니다.                   |
| **측정 단위**     | 해당 센서의 측정 단위를 표시합니다.             |
| **장치 이름**     | 센서가 연결된 장치의 이름을 표시합니다.           |
| **주소 유형**     | 내부 통신 시 사용되는 주소 유형을 표시합니다.   |
| **기준값**       | 센서가 측정한 현재 기준값 또는 초기 설정값을 표시합니다. |
| **정상 최소값**    | 센서의 정상 상태로 판단되는 최소값을 표시합니다.      |
| **정상 최대값**    | 센서의 정상 상태로 판단되는 최대값을 표시합니다.      |
| **센서 최소 측정값** | 센서가 감지할 수 있는 최소 측정 한계를 표시합니다.    |
| **센서 최대 측정값** | 센서가 감지할 수 있는 최대 측정 한계를 표시합니다.    |
| **물리적 장치 여부** | 실제 물리 장치에 연결된 센서인지 여부를 표시합니다.    |

---

### 센서 모니터링

**BMC가 등록된 노드에서만 활성화**됩니다.  
센서 모니터링 탭에서는 센서의 시간별 데이터를 그래프로 시각화합니다.

- **기간 선택**: 조회 시간 범위 지정  
- **CSV 다운로드**: 센서별 데이터 내보내기  
- **그래프 종류**:  
  - 온도 (°C)  
  - 팬 속도 (RPM)  
  - 전류 (Watts)  
  - 전압 (Volts)
