# 이벤트 트리거

이벤트 트리거 페이지는 시스템 상태를 지속적으로 모니터링하여 특정 조건이 충족될 때 관리자에게 알림을 보내는 자동 알림 규칙을 설정하는 화면입니다.  
호스트 자원 사용량이나 중요한 이벤트 발생을 실시간으로 감지하고, 이메일을 통해 즉각적인 알림을 받을 수 있습니다.

---

## 이벤트 트리거 목록

설정된 모든 트리거 규칙을 확인하고 관리할 수 있습니다.

### 테이블 컬럼

| 컬럼명 | 설명 |
|---|---|
| 이름 | 이벤트 트리거 이름 (관리자가 지정한 규칙 이름) |
| ID | 트리거 식별자 (고유 번호) |
| 연결 채널 수 | 연결된 알림 채널의 개수 (예: 이메일 수) |
| 연결 조건 수 | 설정된 트리거 조건의 개수 |
| 설명 | 트리거에 대한 설명 또는 용도 |
| 생성 일시 | 트리거가 생성된 시간 |

이름을 클릭하면 해당 트리거의 상세 정보 페이지로 이동합니다.

### 주요 기능

- `검색`: 이름 기준 부분 일치 검색  
- `생성`: 생성 버튼 클릭 → 신규 트리거 설정 화면 이동  
- `편집`: 한 개 선택 후 편집 버튼 클릭 (1개만 가능)  
- `삭제`: 선택 후 삭제 버튼 클릭 (복수 선택 가능)

> 💡 트리거 삭제 시 규칙이 즉시 비활성화됩니다.

---

## 이벤트 트리거 생성 및 편집

새 트리거 생성 시 **이름, 설명, 조건, 채널** 4가지를 순차적으로 설정합니다.  
(편집 화면에서는 이름/설명만 수정 가능)

### 1. 기본 정보

- **이름**: 이벤트 트리거의 이름을 입력합니다.
- **설명**: 이벤트 트리거의 설명을 입력합니다.

#### 입력 필드 유효성
| 필드                      | 허용 값 | 검증 규칙                      | 비고         |
|-------------------------|---------|----------------------------|------------|
| **이름**             | 최대 20자(영문/숫자/`-`/`_`) | 공백/특수문자 불가     | **필수**     |
| **설명**                | 최대 200자 |     | **필수**      |


---

### 2. 트리거 조건 추가

조건을 **1개 이상** 지정해야 합니다.

#### 조건 항목

- **조건 유형:**  
  * `호스트 CPU 사용률`
  * `호스트 메모리 사용률`
  * `호스트 상태`
  * `이벤트 레벨`
  * `이벤트 코드`
- **조건 연산자:** 
  - `>`: 초과 
  - `<`: 미만
  - `=`: 동일 (일부 조건 유형은 `=`만 가능)
- **값:**  
  - CPU/메모리: 0~100 (%)  
  - 호스트 상태: `Connect`/`Disconnect`  
  - 이벤트 레벨: `INFO`/`WARN`/`ERROR`/`CRITICAL`  
  - 이벤트 코드: 특정 이벤트 ID
- **쿨다운 타임:**  
  재알림 간격(초). 쿨다운 동안 동일 조건 재발생 시 추가 알림 무시.

조건을 확인하면 조건 리스트에 추가됩니다.  
여러 조건은 **각각 독립적으로 평가**되며, 하나라도 충족되면 트리거가 발동됩니다.

---

### 3. 알림 채널 추가

채널을 **1개 이상** 추가해야 합니다.

- **EMAIL:** 등록 사용자 선택, 중복 이메일 추가 불가  


---
### 참고

> 💡 조건/채널이 0개면 트리거 생성 불가
> 💡 편집 화면은 이름/설명만 수정 가능
> 💡 조건/채널 변경은 상세 페이지에서 수행

---

## 이벤트 트리거 상세

트리거 클릭 시 상세 페이지에서 설정 내용을 확인합니다.

### 1. 기본 정보
- **이름**: 이벤트 트리거 이름입니다.
- **ID**: 이벤트 트리거 고유의 ID입니다.
- **설명**: 이벤트 트리거의 설명입니다.
- **생성 일시**: 이벤트 트리거가 생성된 일시입니다.
- **연결 채널 수**: 이벤트 트리거가 연결된 채널의 개수입니다.
- **연결 조건 수**: 이벤트 트리거가 연결된 조건의 개수입니다.

### 2. 이벤트 트리거 조건

트리거에 설정된 모든 조건들이 표 형태로 나열됩니다. 각 조건의 유형, 연산자, 값, 알림 주기를 확인할 수 있습니다.
편집 버튼으로 조건 추가/삭제 가능(최소 1개 유지 필요).

### 3. 알림 채널

트리거에 등록된 모든 채널을 확인하고 편집할 수 있습니다.  
이메일은 중복 추가 불가이며, 중복 시 경고 메시지가 표시됩니다.

편집 버튼으로 채널 추가/삭제 가능(최소 1개 유지 필요).
