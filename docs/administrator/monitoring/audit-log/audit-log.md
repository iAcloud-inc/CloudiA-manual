# 감사 로그

감사 로그 페이지는 시스템에서 발생한 모든 API 요청 및 동작 기록을 확인할 수 있는 어드민 전용 모니터링 화면입니다.  
사용자의 주요 행동(리소스 생성/수정/삭제 요청 등)과 시스템 접근 내역을 성공 여부와 함께 기록하며, 관리자는 이를 통해 보안 및 운영상 중요한 활동을 추적할 수 있습니다.

감사 로그에는 요청을 발생시킨 사용자 정보, 요청한 API 경로와 메서드, 요청 결과(성공/실패) 등이 포함됩니다.

---

## 감사로그 목록

감사 로그 목록 화면에서는 선택한 기간 동안의 모든 감사 로그를 조회할 수 있습니다.  
관리자는 다양한 조건으로 로그를 검색하여 특정 활동이나 오류를 찾아볼 수 있습니다.

### 테이블 컬럼

각 컬럼 헤더를 클릭하여 정렬할 수 있습니다 (기본 정렬: 생성 일시 최신순).

| 컬럼명 | 설명 |
|---|---|
| ID | 로그 식별자 (고유 번호) |
| 이름 | 액션을 수행한 사용자 이름 |
| 사용자 IP | 요청을 보낸 클라이언트의 IP 주소 |
| 메서드 | 요청한 API의 HTTP 메서드 (POST/PUT/DELETE 등) |
| 경로 | 요청한 API 엔드포인트 경로 |
| 결과 | 요청 처리 결과 (성공 또는 실패) |
| 생성 일시 | 요청이 발생한 시간 (로컬 시간) |

결과 컬럼에는 성공 여부에 따라 성공 또는 실패로 표시되며, 아이콘 색상으로 시각화됩니다.  
경로 컬럼의 값(API 경로)을 클릭하면 해당 로그의 상세 정보를 볼 수 있는 감사로그 상세 페이지로 이동합니다.

---

## 필터링 조건

화면 상단에서 로그를 검색/필터링할 수 있습니다.  
조건을 설정한 후 **검색 버튼**을 눌러 적용합니다.

| 필터 유형 | 설명 |
|---|---|
| 날짜 범위 | 조회할 기간의 시작일과 종료일을 지정 (기본 24시간 내 로그) |
| 결과 필터 | 성공, 실패 또는 전체 결과 중 선택하여 요청 결과별로 필터링 |
| 메서드 필터 | POST, PUT, DELETE 또는 전체 중 선택하여 요청 메서드별로 필터링 |
| 검색어 | 경로(keyword)를 입력하여 로그를 검색 (요청 경로 기준 부분 일치 검색) |

예를 들어 특정 API 경로로 발생한 실패한 요청만 보고 싶다면, 결과 필터를 실패로 두고 검색어에 해당 경로를 입력하여 검색할 수 있습니다.  
여러 필터를 조합하여 원하는 로그를 빠르게 찾아볼 수 있습니다.

---

## CSV 다운로드

현재 필터링된 감사 로그 목록을 CSV 파일로 내려받을 수 있습니다.  
다운로드 버튼을 클릭하면 설정된 조건(기간, 결과, 메서드, 검색어)을 그대로 적용한 CSV를 생성합니다.  
이를 통해 로그 데이터를 별도로 저장하거나 분석할 수 있습니다.

### 참고

> 💡 감사 로그 화면의 데이터는 조회 전용이며 수정이나 삭제가 불가능합니다.

> 💡 조회 결과가 없는 경우 *“리스트 데이터가 존재하지 않습니다.”*라는 안내가 표시됩니다.

> 💡 경로를 클릭하면 해당 요청의 상세 내용을 볼 수 있습니다. 상세 화면에서 요청/응답 바디까지 확인할 수 있습니다.

> ⚠️ 주의: **감사 로그 데이터는 보존 기간 정책에 따라 자동 삭제**될 수 있습니다. 필요한 경우 CSV 다운로드 기능으로 데이터를 미리 백업해두는 것을 권장합니다.

---

## 감사로그 상세

감사 로그 상세 화면에서는 특정 요청 로그 한 건에 대한 세부 정보를 제공합니다.

### 기본 정보
로그 ID, 사용자명, 클라이언트 IP, 메서드, 경로, 결과, HTTP 상태 코드, 발생 시각 등이 표 형태로 표시됩니다.  
이를 통해 누가 언제 어떤 요청을 시도하여 어떤 결과를 얻었는지 파악할 수 있습니다.

| 컬럼명 | 설명 |
|---|---|
| ID | 로그 식별자 (고유 번호) |
| 이름 | 액션을 수행한 사용자 이름 |
| 사용자 IP | 요청을 보낸 클라이언트의 IP 주소 |
| 메서드 | 요청한 API의 HTTP 메서드 (POST/PUT/DELETE 등) |
| 경로 | 요청한 API 엔드포인트 경로 |
| 결과 | 요청 처리 결과 (성공 또는 실패) |
| 상태 코드 | 요청한 API의 HTTP 응답 상태 코드 |
| 생성 일시 | 요청이 발생한 시간 (로컬 시간) |


### 요청 바디
요청 당시 전송된 내용(payload)이 JSON 형식으로 표시됩니다.  
요청 바디가 없었던 경우 빈 객체로 나타납니다.

### 응답 바디
서버가 요청에 대해 반환한 응답 내용이 JSON 형식으로 출력됩니다.  
(예: 요청 실패 시 에러 메시지나 스택 트레이스 정보 등)

> 💡 이 화면에서도 데이터는 조회 전용이며, 별도의 편집 기능은 제공되지 않습니다.
