# 역할 

## 역할 목록
**역할 목록** 화면에서는 CloudiA 시스템에 정의된 모든 **역할**을 조회하고 관리할 수 있습니다. 역할은 사용자 권한의 집합으로, 프로젝트 및 자원에 대한 접근 권한을 결정합니다. 상단 도구 모음을 통해 역할을 신규 [생성]하거나, 목록에서 역할을 선택하여 [편집] 또는 [삭제]할 수 있습니다. 한 번에 하나의 역할을 선택할 수 있으며, [편집]은 하나의 역할 선택 시 활성화됩니다. [삭제]는 선택한 역할이 **시스템 기본 역할**이 아닌 경우에만 가능하며, 삭제 시 확인 팝업을 통해 진행됩니다. (CloudiA에 기본 내장된 시스템 역할은 **편집 및 삭제가 제한**됩니다.) 역할 이름을 클릭하면 해당 역할의 **상세 정보** 화면으로 이동합니다.

역할 목록의 주요 컬럼은 다음과 같습니다:

| 컬럼               | 설명                                                       |
| ------------------ | ---------------------------------------------------------- |
| **이름**           | 역할의 이름입니다. 클릭 시 해당 역할의 **상세 정보** 화면으로 이동합니다. |
| **연결 권한 수**   | 이 역할에 연결된 **권한**(Permission)의 개수입니다.           |
| **연결 멤버 수**   | 이 역할을 부여받은 **멤버**의 수입니다.                     |
| **설명**           | 역할에 대한 설명이나 용도를 나타냅니다.                     |
| **생성 일시**      | 역할이 생성된 날짜와 시간입니다.                            |
| **수정 일시**      | 역할 정보가 마지막으로 수정된 일시입니다.                    |

> 💡 **참고:** 역할 목록에서 **시스템 역할**로 표시되는 항목(예: `admin` 역할 등)은 CloudiA 기본 제공 역할로, 편집이나 삭제가 불가능합니다. 새로운 프로젝트가 생성되면 기본적으로 프로젝트 관리자, 프로젝트 멤버 등의 역할이 자동으로 할당됩니다.

### 역할 상세
특정 역할을 선택하면 **역할 상세** 화면에서 그 역할의 구성과 연관 정보를 확인할 수 있습니다. 상단에는 **역할 정보** 요약이 표시되며, 하단에는 해당 역할과 연관된 **권한** 및 **멤버** 목록을 탭으로 전환하여 볼 수 있습니다.

상단 **역할 정보** 요약에는 다음 항목이 포함됩니다:

- **이름:** 역할의 이름입니다.
- **ID:** 역할의 고유 ID입니다.
- **설명:** 역할의 용도나 설명이 표시됩니다.
- **생성 일시:** 역할이 생성된 시간입니다.
- **수정 일시:** 역할이 마지막으로 변경된 시간입니다.
- **역할 유형:** 시스템 기본 역할인 경우 별도로 표시될 수 있습니다. 기본 역할은 편집이 제한됩니다.

#### 권한 탭
**권한** 탭에서는 현재 역할에 부여된  **권한** 을 리스트로 보여줍니다. 권한 탭의 표 컬럼은 **메뉴**, **구분**, **설명**, **생성 일시**로 구성되며, 이 역할이 가지고 있는 각각의 권한 정보를 표시합니다.

권한 탭 상단의 [편집] 버튼을 클릭하면 **역할 권한 수정** 화면으로 이동하여 이 역할에 부여된 권한들을 변경할 수 있습니다.

> 💡 **참고:** `admin`, `project-owner`, `user` 멤버와 같이 시스템 기본 역할의 경우 권한 편집이 비활성화됩니다.

#### 멤버 탭
**멤버** 탭에서는 이 역할이 부여된 사용자들을 확인할 수 있습니다. 표에는 **이름**, **ID**, **이메일**, **전화번호**, **프로젝트 개수**, **생성 일시** 컬럼이 표시됩니다. 이 목록에는 현재 해당 역할을 가지고 있는 모든 멤버가 나열되며, 각 멤버의 기본 정보와 해당 멤버가 참여한 전체 프로젝트 수가 제공됩니다.

> 💡 **참고:** 멤버 탭의 **프로젝트 개수**는 해당 사용자가 속한 총 프로젝트 수를 나타내며, 그 중 일부 프로젝트에서만 이 역할을 가질 수도 있습니다. 어떤 멤버가 이 역할을 어느 프로젝트에서 가지고 있는지 상세히 보려면 해당 멤버의 **멤버 상세** 화면에서 확인해야 합니다.

## 역할 생성·편집
새로운 역할을 추가하거나 기존 역할 정보를 수정하려면 역할 목록 상단에서 [생성] 버튼을 사용합니다. **역할 생성** 화면과 **역할 편집** 화면의 구성과 입력 요소는 거의 동일하며, 편집 모드에서는 기존 값이 채워진 상태로 나타납니다.

역할 생성·편집 화면에서는 다음 항목을 입력할 수 있습니다:

- **이름** (필수): 역할의 이름을 설정합니다.
- **설명** (필수): 역할에 대한 상세 설명이나 용도를 메모해 둘 수 있습니다.

새로운 역할을 생성하는 경우 위 두 가지 정보만 입력하고 [생성] 버튼을 누르면 역할이 추가됩니다. 역할 생성 후에는 **역할 상세** 화면으로 이동하여 곧바로 권한을 할당할 수 있습니다.

기존 역할을 편집하는 경우 **이름**과 **설명**을 수정할 수 있습니다. 단, **시스템 기본 역할**의 이름은 변경할 수 없습니다. 필요한 변경을 한 뒤 [편집] 버튼을 누르면 수정 사항이 적용됩니다.


### 입력 필드 유효성

| 필드 | 허용 값                      | 검증 규칙   | 비고 |
|---|---------------------------|---------|----|
| 이름 | 영문/숫자/`.`/`-`/`_`, 최대 20자 | 공백·중복 불가| 필수 |
| 설명 | 최대 200자                   | 특수문자 제한 | 필수 |


> ⚠️ **주의:** 역할 이름은 중복으로 사용할 수 없습니다. 이미 존재하는 이름으로 생성 또는 변경 시도하면 오류 메시지가 표시됩니다. 또한, 역할을 생성한 후 권한을 부여하지 않으면 아무런 효과가 없으므로, 생성 직후 **역할 권한 수정**을 통해 필요한 권한을 반드시 추가해야 합니다.

## 역할 권한 수정
역할 상세 화면의 권한 탭에서 [편집] 버튼을 클릭하면 **역할 권한 수정** 화면으로 전환되어, 해당 역할에 연계된 권한들을 관리할 수 있습니다. 이 화면에서는 역할에 **권한을 추가하거나 제거**하는 작업을 수행합니다.

- 새로운 권한 추가: **[추가]** 버튼을 눌러 권한 목록에 항목을 추가합니다.
- 기존 권한 제거: 권한 목록에서 제거하려는 권한을 선택한 후 **[삭제]** 버튼을 클릭합니다.

변경 작업을 마친 후 [저장] 버튼을 누르면 역할에 대한 권한 수정사항이 적용됩니다. 역할에 권한이 추가되면 그 역할을 가진 모든 사용자에게 해당 권한이 부여되며, 권한이 제거되면 즉시 그 권한이 박탈됩니다.

> ⚠️ **주의:** `admin`, `project-owner`, `user` 멤버와 같이 시스템 기본 역할의 경우 권한을 수정할 수 없습니다. 