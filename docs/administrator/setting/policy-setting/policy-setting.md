# 정책 설정

**비밀번호 정책**, **계정 잠금 정책**, **OTP**, **세션 설정**을 관리합니다.  각 항목을 변경한 뒤 편집 버튼을 누르면 설정이 즉시 적용됩니다 


## 비밀번호 정책

### 주요 작업
- `편집` : 정책 값 변경 후 편집 버튼을 누르면 신규/변경 비밀번호부터 적용됩니다.

### 설정 항목
- **최소/최대 길이**, **대문자/소문자/숫자/특수문자 최소 개수**
- **패턴 제한**(키보드상 연속 문자 숫자 입력, 동일한 문자 숫자 반복 금지)
- **비밀번호 히스토리 제한**(최근 N개 재사용 금지)

### 입력 필드 유효성
| 구역 | 필드             | 허용 값/길이    | 비고 |
|---|----------------|------------|----|
| 비밀번호 정책 | 최소 길이          | 9 ~ 20 사이의 정수 | 필수 |
| 비밀번호 정책 | 최대 길이          | 20 이하의 정수  | 고정 |
| 비밀번호 정책 | 대문자 개수         | 1 ~ 5 사이의 정수 | 필수 |
| 비밀번호 정책 | 소문자 개수         | 1 ~ 5 사이의 정수 | 필수 |
| 비밀번호 정책 | 특수문자 개수        | 1 ~ 5 사이의 정수 | 필수 |
| 비밀번호 정책 | 비밀번호 재사용 금지 횟수 | 1 ~ 5 사이의 정수 | 필수 |

> 💡 기존 비밀번호는 변경되지 않으며, 다음 변경 시부터 새 정책을 따릅니다.

## 계정 잠금 정책

### 주요 작업
- `편집` : 로그인 실패 누적시 일시적으로 잠그는 기준(임계값/시간) 설정 후 편집 버튼을 누르면 설정사항이 적용됩니다.

### 설정 항목
- **계정 잠금 모드**:  `일시적으로 잠금` 만 가능
- **최대 로그인 실패 횟수**
- **잠금 증가 시간**
- **최대 대기 시간** 
- **실패 횟수 초기화 시간**

### 입력 필드 유효성
| 구역       | 필드           | 허용 값/길이       | 비고 |
|----------|--------------|---------------|----|
| 계정 잠금 정책 | 최대 로그인 실패 횟수 | 5 이하의 정수      | 필수 |
| 계정 잠금 정책 | 잠금 증가 시간     | 300 ~ 1200 사이의 정수 | 필수 |
| 계정 잠금 정책 | 최대 대기 시간     | 300 ~ 1200 사이의 정수 | 필수 |
| 계정 잠금 정책 | 실패 횟수 초기화 시간  | 300 이상의 정수    | 필수 |
> ⚠️ 주의: 정책 저장 이후부터 로그인 실패가 임계값을 넘으면 자동으로 계정 잠금이 적용됩니다.


## OTP 설정

### 개요
- 본 서비스는 **TOTP (시간 기반 OTP)** 방식만 지원합니다.
- Google Authenticator, Microsoft Authenticator 등 **표준 TOTP 앱**과 호환됩니다.

### 주요 작업
- `편집` : 전역 OTP 사용 여부와 파라미터를 설정후 편집 버튼을 누르면 설정사항이 적용됩니다. 

### 설정 항목
- **OTP 활성화**(토글)
  - 전역 OTP 사용 여부를 켜거나 끕니다.
- **OTP 해시 알고리즘**
    - `SHA1`, `SHA256`, `SHA512` 중 하나를 선택할 수 있습니다.
- **OTP 자릿수**
    - 생성되는 OTP 코드의 자릿수를 `6` 또는 `8`로 설정합니다.
> 💡  Microsoft Authenticator의 경우 기본값인 **SHA1 + 6자리**를 지원합니다.


## 세션 설정

### 주요 작업
- `편집` : 유휴 세션 타임아웃을 설정 후 편집 버튼을 누르면 설정사항이 적용됩니다.
- 유휴 세션 기준 : 사용자가 브라우저에서 N분간 활동(마우스 움직임, 마우스 클릭, 마우스 휠, 키보드 입력)이 없으면 자동으로 로그아웃 처리됩니다.

### 설정 항목
- **자동 로그아웃 시간**: 값 + 단위(`초`/`분`)

### 입력 필드 유효성
| 구역     | 필드          | 허용 값/길이                     | 비고 |
|--------|-------------|-----------------------------|----|
| 세션 설정 | 자동 로그아웃 시간 | 1 이상의 정수 (분), 10 이상의 정수 (초) | 필수
> 💡 보안을 위해 지나치게 긴 무제한 세션 유지보다는 적정 타임아웃을 권장합니다.


